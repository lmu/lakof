/*! For license information please see 9.bundle.df022ce.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{106:function(e,t,n){var o=n(0),i=n(0);(function(){!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=16)}([function(e,t,n){"use strict";var i;t.__esModule=!0,function(e){e[e.Before=1]="Before",e[e.After=2]="After",e[e.Inside=3]="Inside",e[e.None=4]="None"}(i=t.Position||(t.Position={}));var r={before:i.Before,after:i.After,inside:i.Inside,none:i.None};t.getPositionName=function(e){for(var t in r)if(r.hasOwnProperty(t)&&r[t]===e)return t;return""},t.getPosition=function(e){return r[e]};var s=function(){function e(t,n,o){void 0===n&&(n=!1),void 0===o&&(o=e),this.name="",this.setData(t),this.children=[],this.parent=null,n&&(this.idMapping={},this.tree=this,this.nodeClass=o)}return e.prototype.setData=function(e){var t=this,n=function(e){null!=e&&(t.name=e)};if(e)if("object"!=typeof e)n(e);else for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];"label"===o?n(i):"children"!==o&&(this[o]=i)}},e.prototype.loadFromData=function(e){this.removeChildren();for(var t=0,n=e;t<n.length;t++){var o=n[t],i=new this.tree.nodeClass(o);this.addChild(i),"object"==typeof o&&o.children&&i.loadFromData(o.children)}},e.prototype.addChild=function(e){this.children.push(e),e._setParent(this)},e.prototype.addChildAtPosition=function(e,t){this.children.splice(t,0,e),e._setParent(this)},e.prototype.removeChild=function(e){e.removeChildren(),this._removeChild(e)},e.prototype.getChildIndex=function(e){return o.inArray(e,this.children)},e.prototype.hasChildren=function(){return 0!==this.children.length},e.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand},e.prototype.iterate=function(e){var t=function(n,o){if(n.children)for(var i=0,r=n.children;i<r.length;i++){var s=r[i];e(s,o)&&s.hasChildren()&&t(s,o+1)}};t(this,0)},e.prototype.moveNode=function(e,t,n){e.parent&&!e.isParentOf(t)&&(e.parent._removeChild(e),n===i.After?t.parent&&t.parent.addChildAtPosition(e,t.parent.getChildIndex(t)+1):n===i.Before?t.parent&&t.parent.addChildAtPosition(e,t.parent.getChildIndex(t)):n===i.Inside&&t.addChildAtPosition(e,0))},e.prototype.getData=function(e){return void 0===e&&(e=!1),function e(t){return t.map((function(t){var n={};for(var o in t)if(-1===["parent","children","element","tree"].indexOf(o)&&Object.prototype.hasOwnProperty.call(t,o)){var i=t[o];n[o]=i}return t.hasChildren()&&(n.children=e(t.children)),n}))}(e?[this]:this.children)},e.prototype.getNodeByName=function(e){return this.getNodeByCallback((function(t){return t.name===e}))},e.prototype.getNodeByCallback=function(e){var t=null;return this.iterate((function(n){return!e(n)||(t=n,!1)})),t},e.prototype.addAfter=function(e){if(this.parent){var t=new this.tree.nodeClass(e),n=this.parent.getChildIndex(this);return this.parent.addChildAtPosition(t,n+1),"object"==typeof e&&e.children&&e.children.length&&t.loadFromData(e.children),t}return null},e.prototype.addBefore=function(e){if(this.parent){var t=new this.tree.nodeClass(e),n=this.parent.getChildIndex(this);return this.parent.addChildAtPosition(t,n),"object"==typeof e&&e.children&&e.children.length&&t.loadFromData(e.children),t}return null},e.prototype.addParent=function(e){if(this.parent){var t=new this.tree.nodeClass(e);t._setParent(this.tree);for(var n=this.parent,o=0,i=n.children;o<i.length;o++){var r=i[o];t.addChild(r)}return n.children=[],n.addChild(t),t}return null},e.prototype.remove=function(){this.parent&&(this.parent.removeChild(this),this.parent=null)},e.prototype.append=function(e){var t=new this.tree.nodeClass(e);return this.addChild(t),"object"==typeof e&&e.children&&e.children.length&&t.loadFromData(e.children),t},e.prototype.prepend=function(e){var t=new this.tree.nodeClass(e);return this.addChildAtPosition(t,0),"object"==typeof e&&e.children&&e.children.length&&t.loadFromData(e.children),t},e.prototype.isParentOf=function(e){for(var t=e.parent;t;){if(t===this)return!0;t=t.parent}return!1},e.prototype.getLevel=function(){for(var e=0,t=this;t.parent;)e+=1,t=t.parent;return e},e.prototype.getNodeById=function(e){return this.idMapping[e]},e.prototype.addNodeToIndex=function(e){null!=e.id&&(this.idMapping[e.id]=e)},e.prototype.removeNodeFromIndex=function(e){null!=e.id&&delete this.idMapping[e.id]},e.prototype.removeChildren=function(){var e=this;this.iterate((function(t){return e.tree.removeNodeFromIndex(t),!0})),this.children=[]},e.prototype.getPreviousSibling=function(){if(this.parent){var e=this.parent.getChildIndex(this)-1;return e>=0?this.parent.children[e]:null}return null},e.prototype.getNextSibling=function(){if(this.parent){var e=this.parent.getChildIndex(this)+1;return e<this.parent.children.length?this.parent.children[e]:null}return null},e.prototype.getNodesByProperty=function(e,t){return this.filter((function(n){return n[e]===t}))},e.prototype.filter=function(e){var t=[];return this.iterate((function(n){return e(n)&&t.push(n),!0})),t},e.prototype.getNextNode=function(e){return void 0===e&&(e=!0),e&&this.hasChildren()&&this.is_open?this.children[0]:this.parent?this.getNextSibling()||this.parent.getNextNode(!1):null},e.prototype.getPreviousNode=function(){if(this.parent){var e=this.getPreviousSibling();return e?e.hasChildren()&&e.is_open?e.getLastChild():e:this.getParent()}return null},e.prototype.getParent=function(){return this.parent&&this.parent.parent?this.parent:null},e.prototype.getLastChild=function(){if(this.hasChildren()){var e=this.children[this.children.length-1];return e.hasChildren()&&e.is_open?e.getLastChild():e}return null},e.prototype.initFromData=function(e){var t,n=this;t=e,n.setData(t),t.children&&function(e){for(var t=0,o=e;t<o.length;t++){var i=o[t],r=new n.tree.nodeClass("");r.initFromData(i),n.addChild(r)}}(t.children)},e.prototype._setParent=function(e){this.parent=e,this.tree=e.tree,this.tree.addNodeToIndex(this)},e.prototype._removeChild=function(e){this.children.splice(this.getChildIndex(e),1),this.tree.removeNodeFromIndex(e)},e}();t.Node=s},function(e,t,n){"use strict";t.__esModule=!0,t.isInt=function(e){return"number"==typeof e&&e%1==0},t.isFunction=function(e){return"function"==typeof e},t.htmlEscape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},t.getBoolString=function(e){return e?"true":"false"}},function(e,t){e.exports=o},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){this.$el=o(e);var n=this.constructor.defaults;this.options=o.extend({},n,t)}return e.register=function(t,n){var i=function(){return"simple_widget_"+n};function r(t,n){var i=o.data(t,n);return i&&i instanceof e?i:null}o.fn[n]=function(n){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(void 0===n||"object"==typeof n)return function(e,n){for(var s=i(),a=0,l=e.get();a<l.length;a++){var d=l[a];if(!r(d,s)){var p=new t(d,n);o.data(d,s)||o.data(d,s,p),p._init()}}return e}(this,n);if("string"==typeof n&&"_"!==n[0]){var l=n;return"destroy"===l?function(e){for(var t=i(),n=0,s=e.get();n<s.length;n++){var a=s[n],l=r(a,t);l&&l.destroy(),o.removeData(a,t)}}(this):"get_widget_class"===l?t:function(t,n,r){for(var s=null,a=0,l=t.get();a<l.length;a++){var d=l[a],p=o.data(d,i());if(p&&p instanceof e){var c=p[n];c&&"function"==typeof c&&(s=c.apply(p,r))}}return s}(this,l,s)}}},e.prototype.destroy=function(){this._deinit()},e.prototype._init=function(){},e.prototype._deinit=function(){},e.defaults={},e}();t.default=i},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n(5),s=n(2),a=n(6),l=n(7),d=n(8),p=n(9),c=n(10),u=n(11),h=n(12),f=n(13),g=n(3),v=n(0),m=n(1),y=n(14),_="Node parameter is empty",b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(e){var n=t._getClickTarget(e.target);if(n)if("button"===n.type)t.toggle(n.node,t.options.slide),e.preventDefault(),e.stopPropagation();else if("label"===n.type){var o=n.node;t._triggerEvent("tree.click",{node:o,click_event:e}).isDefaultPrevented()||t._selectNode(o,!0)}},t._handleDblclick=function(e){var n=t._getClickTarget(e.target);n&&"label"===n.type&&t._triggerEvent("tree.dblclick",{node:n.node,click_event:e})},t._handleContextmenu=function(e){var n=s(e.target).closest("ul.jqtree-tree .jqtree-element");if(n.length){var o=t._getNode(n);if(o)return e.preventDefault(),e.stopPropagation(),t._triggerEvent("tree.contextmenu",{node:o,click_event:e}),!1}return null},t}return i(t,e),t.prototype.toggle=function(e,t){if(!e)throw Error(_);var n=null==t?this.options.slide:t;return e.is_open?this.closeNode(e,n):this.openNode(e,n),this.element},t.prototype.getTree=function(){return this.tree},t.prototype.selectNode=function(e){return this._selectNode(e,!1),this.element},t.prototype.getSelectedNode=function(){return!!this.selectNodeHandler&&this.selectNodeHandler.getSelectedNode()},t.prototype.toJson=function(){return JSON.stringify(this.tree.getData())},t.prototype.loadData=function(e,t){return this._loadData(e,t),this.element},t.prototype.loadDataFromUrl=function(e,t,n){return"string"==typeof e?this._loadDataFromUrl(e,t,n):this._loadDataFromUrl(null,e,t),this.element},t.prototype.reload=function(e){return this._loadDataFromUrl(null,null,e),this.element},t.prototype.getNodeById=function(e){return this.tree.getNodeById(e)},t.prototype.getNodeByName=function(e){return this.tree.getNodeByName(e)},t.prototype.getNodesByProperty=function(e,t){return this.tree.getNodesByProperty(e,t)},t.prototype.getNodeByHtmlElement=function(e){return this._getNode(s(e))},t.prototype.getNodeByCallback=function(e){return this.tree.getNodeByCallback(e)},t.prototype.openNode=function(e,t,n){var o=this;if(!e)throw Error(_);var i=function(){var e,i;return m.isFunction(t)?(e=t,i=null):(i=t,e=n),null==i&&(i=o.options.slide),[i,e]}(),r=i[0],s=i[1];return this._openNode(e,r,s),this.element},t.prototype.closeNode=function(e,t){if(!e)throw Error(_);var n=null==t?this.options.slide:t;return e.isFolder()&&(new y.FolderElement(e,this).close(n,this.options.animationSpeed),this._saveState()),this.element},t.prototype.isDragging=function(){return!!this.dndHandler&&this.dndHandler.isDragging},t.prototype.refreshHitAreas=function(){return this.dndHandler&&this.dndHandler.refresh(),this.element},t.prototype.addNodeAfter=function(e,t){var n=t.addAfter(e);return n&&this._refreshElements(t.parent),n},t.prototype.addNodeBefore=function(e,t){if(!t)throw Error("Parameter is empty: existingNode");var n=t.addBefore(e);return n&&this._refreshElements(t.parent),n},t.prototype.addParentNode=function(e,t){if(!t)throw Error("Parameter is empty: existingNode");var n=t.addParent(e);return n&&this._refreshElements(n.parent),n},t.prototype.removeNode=function(e){if(!e)throw Error(_);var t=e;return t.parent&&this.selectNodeHandler&&(this.selectNodeHandler.removeFromSelection(t,!0),t.remove(),this._refreshElements(t.parent)),this.element},t.prototype.appendNode=function(e,t){var n=t||this.tree,o=n.append(e);return this._refreshElements(n),o},t.prototype.prependNode=function(e,t){var n=t||this.tree,o=n.prepend(e);return this._refreshElements(n),o},t.prototype.updateNode=function(e,t){if(!e)throw Error(_);var n=t.id&&t.id!==e.id;return n&&this.tree.removeNodeFromIndex(e),e.setData(t),n&&this.tree.addNodeToIndex(e),"object"==typeof t&&t.children&&(e.removeChildren(),t.children.length&&e.loadFromData(t.children)),this._refreshElements(e),this._selectCurrentNode(),this.element},t.prototype.moveNode=function(e,t,n){if(!e)throw Error(_);if(!t)throw Error("Parameter is empty: targetNode");var o=v.getPosition(n);return this.tree.moveNode(e,t,o),this._refreshElements(null),this.element},t.prototype.getStateFromStorage=function(){if(this.saveStateHandler)return this.saveStateHandler.getStateFromStorage()},t.prototype.addToSelection=function(e,t){if(!e)throw Error(_);var n=e;return this.selectNodeHandler&&(this.selectNodeHandler.addToSelection(n),this._getNodeElementForNode(n).select(t||!0),this._saveState()),this.element},t.prototype.getSelectedNodes=function(){return this.selectNodeHandler?this.selectNodeHandler.getSelectedNodes():[]},t.prototype.isNodeSelected=function(e){if(!e)throw Error(_);return!!this.selectNodeHandler&&this.selectNodeHandler.isNodeSelected(e)},t.prototype.removeFromSelection=function(e){if(!e)throw Error(_);return this.selectNodeHandler&&(this.selectNodeHandler.removeFromSelection(e),this._getNodeElementForNode(e).deselect(),this._saveState()),this.element},t.prototype.scrollToNode=function(e){if(!e)throw Error(_);if(this.scrollHandler){var t=s(e.element).offset(),n=t?t.top:0,o=this.$el.offset(),i=n-(o?o.top:0);this.scrollHandler.scrollToY(i)}return this.element},t.prototype.getState=function(){if(this.saveStateHandler)return this.saveStateHandler.getState()},t.prototype.setState=function(e){return this.saveStateHandler&&(this.saveStateHandler.setInitialState(e),this._refreshElements(null)),this.element},t.prototype.setOption=function(e,t){return this.options[e]=t,this.element},t.prototype.moveDown=function(){return this.keyHandler&&this.keyHandler.moveDown(),this.element},t.prototype.moveUp=function(){return this.keyHandler&&this.keyHandler.moveUp(),this.element},t.prototype.getVersion=function(){return r.default},t.prototype.testGenerateHitAreas=function(e){return this.dndHandler?(this.dndHandler.currentItem=this._getNodeElementForNode(e),this.dndHandler.generateHitAreas(),this.dndHandler.hitAreas):[]},t.prototype._triggerEvent=function(e,t){var n=s.Event(e);return s.extend(n,t),this.element.trigger(n),n},t.prototype._openNode=function(e,t,n){var o=this;void 0===t&&(t=!0);var i=function(e,t,n){new y.FolderElement(e,o).open(n,t,o.options.animationSpeed)};if(e.isFolder())if(e.load_on_demand)this._loadFolderOnDemand(e,t,n);else{for(var r=e.parent;r;)r.parent&&i(r,!1,null),r=r.parent;i(e,t,n),this._saveState()}},t.prototype._refreshElements=function(e){this.renderer.render(e),this._triggerEvent("tree.refresh")},t.prototype._getNodeElementForNode=function(e){return e.isFolder()?new y.FolderElement(e,this):new y.NodeElement(e,this)},t.prototype._getNodeElement=function(e){var t=this._getNode(e);return t?this._getNodeElementForNode(t):null},t.prototype._containsElement=function(e){var t=this._getNode(s(e));return null!=t&&t.tree===this.tree},t.prototype._getScrollLeft=function(){return this.scrollHandler&&this.scrollHandler.getScrollLeft()||0},t.prototype._init=function(){e.prototype._init.call(this),this.element=this.$el,this.mouseDelay=300,this.isInitialized=!1,this.options.rtl=this._getRtlOption(),null===this.options.closedIcon&&(this.options.closedIcon=this._getDefaultClosedIcon()),this.renderer=new l.default(this),this.dataLoader=new d.default(this),null!=u.default?this.saveStateHandler=new u.default(this):this.options.saveState=!1,null!=f.default&&(this.selectNodeHandler=new f.default(this)),null!=a.DragAndDropHandler?this.dndHandler=new a.DragAndDropHandler(this):this.options.dragAndDrop=!1,null!=h.default&&(this.scrollHandler=new h.default(this)),null!=p.default&&null!=f.default&&(this.keyHandler=new p.default(this)),this._initData(),this.element.click(this._handleClick),this.element.dblclick(this._handleDblclick),this.options.useContextMenu&&this.element.on("contextmenu",this._handleContextmenu)},t.prototype._deinit=function(){this.element.empty(),this.element.off(),this.keyHandler&&this.keyHandler.deinit(),this.tree=new v.Node({},!0),e.prototype._deinit.call(this)},t.prototype._mouseCapture=function(e){return!(!this.options.dragAndDrop||!this.dndHandler)&&this.dndHandler.mouseCapture(e)},t.prototype._mouseStart=function(e){return!(!this.options.dragAndDrop||!this.dndHandler)&&this.dndHandler.mouseStart(e)},t.prototype._mouseDrag=function(e){if(this.options.dragAndDrop&&this.dndHandler){var t=this.dndHandler.mouseDrag(e);return this.scrollHandler&&this.scrollHandler.checkScrolling(),t}return!1},t.prototype._mouseStop=function(e){return!(!this.options.dragAndDrop||!this.dndHandler)&&this.dndHandler.mouseStop(e)},t.prototype._initData=function(){this.options.data?this._loadData(this.options.data,null):this._getDataUrlInfo(null)?this._loadDataFromUrl(null,null,null):this._loadData([],null)},t.prototype._getDataUrlInfo=function(e){var t,n=this,o=this.options.dataUrl||this.element.data("url"),i=function(t){if(e&&e.id){var o={node:e.id};t.data=o}else{var i=n._getNodeIdToBeSelected();i&&(o={selected_node:i},t.data=o)}};return"function"==typeof o?o(e):"string"==typeof o?(i(t={url:o}),t):"object"==typeof o?(i(o),o):o},t.prototype._getNodeIdToBeSelected=function(){return this.options.saveState&&this.saveStateHandler?this.saveStateHandler.getNodeIdToBeSelected():null},t.prototype._initTree=function(e){var t=this,n=function(){t.isInitialized||(t.isInitialized=!0,t._triggerEvent("tree.init"))};this.tree=new this.options.nodeClass(null,!0,this.options.nodeClass),this.selectNodeHandler&&this.selectNodeHandler.clear(),this.tree.loadFromData(e);var o=this._setInitialState();this._refreshElements(null),o?this._setInitialStateOnDemand(n):n()},t.prototype._setInitialState=function(){var e=this,t=function(){if(e.options.saveState&&e.saveStateHandler){var t=e.saveStateHandler.getStateFromStorage();return t?[!0,e.saveStateHandler.setInitialState(t)]:[!1,!1]}return[!1,!1]}(),n=t[0],o=t[1];return n||(o=function(){if(!1===e.options.autoOpen)return!1;var t=e._getAutoOpenMaxLevel(),n=!1;return e.tree.iterate((function(e,o){return e.load_on_demand?(n=!0,!1):!!e.hasChildren()&&(e.is_open=!0,o!==t)})),n}()),o},t.prototype._setInitialStateOnDemand=function(e){var t,n,o,i=this;(function(){if(i.options.saveState&&i.saveStateHandler){var t=i.saveStateHandler.getStateFromStorage();return!!t&&(i.saveStateHandler.setInitialStateOnDemand(t,e),!0)}return!1})()||(t=i._getAutoOpenMaxLevel(),n=0,(o=function(){i.tree.iterate((function(e,r){return e.load_on_demand?(e.is_loading||function(e){n+=1,i._openNode(e,!1,(function(){n-=1,o()}))}(e),!1):(i._openNode(e,!1,null),r!==t)})),0===n&&e()})())},t.prototype._getAutoOpenMaxLevel=function(){return!0===this.options.autoOpen?-1:parseInt(this.options.autoOpen,10)},t.prototype._getClickTarget=function(e){var t=s(e),n=t.closest(".jqtree-toggler");if(n.length){if(o=this._getNode(n))return{type:"button",node:o}}else{var o,i=t.closest(".jqtree-element");if(i.length&&(o=this._getNode(i)))return{type:"label",node:o}}return null},t.prototype._getNode=function(e){var t=e.closest("li.jqtree_common");return 0===t.length?null:t.data("node")},t.prototype._saveState=function(){this.options.saveState&&this.saveStateHandler&&this.saveStateHandler.saveState()},t.prototype._selectCurrentNode=function(){var e=this.getSelectedNode();if(e){var t=this._getNodeElementForNode(e);t&&t.select(!0)}},t.prototype._deselectCurrentNode=function(){var e=this.getSelectedNode();e&&this.removeFromSelection(e)},t.prototype._getDefaultClosedIcon=function(){return this.options.rtl?"&#x25c0;":"&#x25ba;"},t.prototype._getRtlOption=function(){if(null!=this.options.rtl)return this.options.rtl;var e=this.element.data("rtl");return null!=e&&!1!==e},t.prototype._selectNode=function(e,t){var n=this;if(void 0===t&&(t=!1),this.selectNodeHandler){var o=function(){n.options.saveState&&n.saveStateHandler&&n.saveStateHandler.saveState()};if(!e)return this._deselectCurrentNode(),void o();if(n.options.onCanSelectNode?n.options.selectable&&n.options.onCanSelectNode(e):n.options.selectable){var i,r=e;if(this.selectNodeHandler.isNodeSelected(r))t&&(this._deselectCurrentNode(),this._triggerEvent("tree.select",{node:null,previous_node:r}));else{var s=this.getSelectedNode();this._deselectCurrentNode(),this.addToSelection(r),this._triggerEvent("tree.select",{node:r,deselected_node:s}),(i=e.parent)&&i.parent&&!i.is_open&&n.openNode(i,!1)}o()}}},t.prototype._loadData=function(e,t){e&&(this._triggerEvent("tree.load_data",{tree_data:e}),t?(this._deselectNodes(t),this._loadSubtree(e,t)):this._initTree(e),this.isDragging()&&this.dndHandler&&this.dndHandler.refresh())},t.prototype._deselectNodes=function(e){if(this.selectNodeHandler)for(var t=0,n=this.selectNodeHandler.getSelectedNodesUnder(e);t<n.length;t++){var o=n[t];this.selectNodeHandler.removeFromSelection(o)}},t.prototype._loadSubtree=function(e,t){t.loadFromData(e),t.load_on_demand=!1,t.is_loading=!1,this._refreshElements(t)},t.prototype._loadDataFromUrl=function(e,t,n){var o=e||this._getDataUrlInfo(t);this.dataLoader.loadFromUrl(o,t,n)},t.prototype._loadFolderOnDemand=function(e,t,n){var o=this;void 0===t&&(t=!0),e.is_loading=!0,this._loadDataFromUrl(null,e,(function(){o._openNode(e,t,n)}))},t.defaults={animationSpeed:"fast",autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!0,useContextMenu:!0,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:!0,dataUrl:null,closedIcon:null,openedIcon:"&#x25bc;",slide:!0,nodeClass:v.Node,dataFilter:null,keyboardSupport:!0,openFolderDelay:500,rtl:!1,onDragMove:null,onDragStop:null,buttonLeft:!0,onLoading:null,tabIndex:0},t}(c.default);g.default.register(b,"tree")},function(e,t,n){"use strict";t.__esModule=!0,t.default="1.4.10"},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var r=n(2),s=n(0),a=n(1),l=function(){function e(e){this.treeWidget=e,this.hoveredArea=null,this.hitAreas=[],this.isDragging=!1,this.currentItem=null,this.positionInfo=null}return e.prototype.mouseCapture=function(e){var t=r(e.target);if(!this.mustCaptureElement(t))return null;if(this.treeWidget.options.onIsMoveHandle&&!this.treeWidget.options.onIsMoveHandle(t))return null;var n=this.treeWidget._getNodeElement(t);return n&&this.treeWidget.options.onCanMove&&(this.treeWidget.options.onCanMove(n.node)||(n=null)),this.currentItem=n,null!=this.currentItem},e.prototype.generateHitAreas=function(){if(this.currentItem){var e=new d(this.treeWidget.tree,this.currentItem.node,this.getTreeDimensions().bottom);this.hitAreas=e.generate()}else this.hitAreas=[]},e.prototype.mouseStart=function(e){if(this.currentItem&&void 0!==e.pageX&&void 0!==e.pageY){this.refresh();var t=r(e.target).offset(),n=t?t.left:0,o=t?t.top:0,i=this.currentItem.node,s=this.treeWidget.options.autoEscape?a.htmlEscape(i.name):i.name;return this.dragElement=new p(s,e.pageX-n,e.pageY-o,this.treeWidget.element),this.isDragging=!0,this.positionInfo=e,this.currentItem.$element.addClass("jqtree-moving"),!0}return!1},e.prototype.mouseDrag=function(e){if(this.currentItem&&this.dragElement&&void 0!==e.pageX&&void 0!==e.pageY){this.dragElement.move(e.pageX,e.pageY),this.positionInfo=e;var t=this.findHoveredArea(e.pageX,e.pageY);return this.canMoveToArea(t)&&t?(t.node.isFolder()||this.stopOpenFolderTimer(),this.hoveredArea!==t&&(this.hoveredArea=t,this.mustOpenFolderTimer(t)?this.startOpenFolderTimer(t.node):this.stopOpenFolderTimer(),this.updateDropHint())):(this.removeHover(),this.removeDropHint(),this.stopOpenFolderTimer()),t||this.treeWidget.options.onDragMove&&this.treeWidget.options.onDragMove(this.currentItem.node,e.originalEvent),!0}return!1},e.prototype.mouseStop=function(e){this.moveItem(e),this.clear(),this.removeHover(),this.removeDropHint(),this.removeHitAreas();var t=this.currentItem;return this.currentItem&&(this.currentItem.$element.removeClass("jqtree-moving"),this.currentItem=null),this.isDragging=!1,this.positionInfo=null,!this.hoveredArea&&t&&this.treeWidget.options.onDragStop&&this.treeWidget.options.onDragStop(t.node,e.originalEvent),!1},e.prototype.refresh=function(){this.removeHitAreas(),this.currentItem&&(this.generateHitAreas(),this.currentItem=this.treeWidget._getNodeElementForNode(this.currentItem.node),this.isDragging&&this.currentItem.$element.addClass("jqtree-moving"))},e.prototype.mustCaptureElement=function(e){return!e.is("input,select,textarea")},e.prototype.canMoveToArea=function(e){if(e&&this.currentItem){if(this.treeWidget.options.onCanMoveTo){var t=s.getPositionName(e.position);return this.treeWidget.options.onCanMoveTo(this.currentItem.node,e.node,t)}return!0}return!1},e.prototype.removeHitAreas=function(){this.hitAreas=[]},e.prototype.clear=function(){this.dragElement&&(this.dragElement.remove(),this.dragElement=null)},e.prototype.removeDropHint=function(){this.previousGhost&&this.previousGhost.remove()},e.prototype.removeHover=function(){this.hoveredArea=null},e.prototype.findHoveredArea=function(e,t){var n=this.getTreeDimensions();if(e<n.left||t<n.top||e>n.right||t>n.bottom)return null;for(var o=0,i=this.hitAreas.length;o<i;){var r=o+i>>1,s=this.hitAreas[r];if(t<s.top)i=r;else{if(!(t>s.bottom))return s;o=r+1}}return null},e.prototype.mustOpenFolderTimer=function(e){var t=e.node;return t.isFolder()&&!t.is_open&&e.position===s.Position.Inside},e.prototype.updateDropHint=function(){if(this.hoveredArea){this.removeDropHint();var e=this.treeWidget._getNodeElementForNode(this.hoveredArea.node);this.previousGhost=e.addDropHint(this.hoveredArea.position)}},e.prototype.startOpenFolderTimer=function(e){var t=this;this.stopOpenFolderTimer(),this.openFolderTimer=window.setTimeout((function(){t.treeWidget._openNode(e,t.treeWidget.options.slide,(function(){t.refresh(),t.updateDropHint()}))}),this.treeWidget.options.openFolderDelay)},e.prototype.stopOpenFolderTimer=function(){this.openFolderTimer&&(clearTimeout(this.openFolderTimer),this.openFolderTimer=null)},e.prototype.moveItem=function(e){var t=this;if(this.currentItem&&this.hoveredArea&&this.hoveredArea.position!==s.Position.None&&this.canMoveToArea(this.hoveredArea)){var n=this.currentItem.node,o=this.hoveredArea.node,i=this.hoveredArea.position,r=n.parent;i===s.Position.Inside&&(this.hoveredArea.node.is_open=!0);var a=function(){t.treeWidget.tree.moveNode(n,o,i),t.treeWidget.element.empty(),t.treeWidget._refreshElements(null)};this.treeWidget._triggerEvent("tree.move",{move_info:{moved_node:n,target_node:o,position:s.getPositionName(i),previous_parent:r,do_move:a,original_event:e.originalEvent}}).isDefaultPrevented()||a()}},e.prototype.getTreeDimensions=function(){var e=this.treeWidget.element.offset();if(e){var t=this.treeWidget.element,n=t.width()||0,o=t.height()||0,i=e.left+this.treeWidget._getScrollLeft();return{left:i,top:e.top,right:i+n,bottom:e.top+o+16}}return{left:0,top:0,right:0,bottom:0}},e}();t.DragAndDropHandler=l;var d=function(e){function t(t,n,o){var i=e.call(this,t)||this;return i.currentNode=n,i.treeBottom=o,i}return i(t,e),t.prototype.generate=function(){return this.positions=[],this.lastTop=0,this.iterate(),this.generateHitAreas(this.positions)},t.prototype.generateHitAreas=function(e){for(var t=-1,n=[],o=[],i=0,r=e;i<r.length;i++){var s=r[i];s.top!==t&&n.length&&(n.length&&this.generateHitAreasForGroup(o,n,t,s.top),t=s.top,n=[]),n.push(s)}return this.generateHitAreasForGroup(o,n,t,this.treeBottom),o},t.prototype.handleOpenFolder=function(e,t){return e!==this.currentNode&&(e.children[0]!==this.currentNode&&this.addPosition(e,s.Position.Inside,this.getTop(t)),!0)},t.prototype.handleClosedFolder=function(e,t,n){var o=this.getTop(n);e===this.currentNode?this.addPosition(e,s.Position.None,o):(this.addPosition(e,s.Position.Inside,o),t!==this.currentNode&&this.addPosition(e,s.Position.After,o))},t.prototype.handleFirstNode=function(e){e!==this.currentNode&&this.addPosition(e,s.Position.Before,this.getTop(r(e.element)))},t.prototype.handleAfterOpenFolder=function(e,t){e===this.currentNode||t===this.currentNode?this.addPosition(e,s.Position.None,this.lastTop):this.addPosition(e,s.Position.After,this.lastTop)},t.prototype.handleNode=function(e,t,n){var o=this.getTop(n);e===this.currentNode?this.addPosition(e,s.Position.None,o):this.addPosition(e,s.Position.Inside,o),t===this.currentNode||e===this.currentNode?this.addPosition(e,s.Position.None,o):this.addPosition(e,s.Position.After,o)},t.prototype.getTop=function(e){var t=e.offset();return t?t.top:0},t.prototype.addPosition=function(e,t,n){var o={top:n,bottom:0,node:e,position:t};this.positions.push(o),this.lastTop=n},t.prototype.generateHitAreasForGroup=function(e,t,n,o){for(var i=Math.min(t.length,4),r=Math.round((o-n)/i),s=n,a=0;a<i;){var l=t[a];e.push({top:s,bottom:s+r,node:l.node,position:l.position}),s+=r,a+=1}},t}(function(){function e(e){this.tree=e}return e.prototype.iterate=function(){var e=this,t=!0,n=function(o,i){var s=(o.is_open||!o.element)&&o.hasChildren(),a=null;if(o.element){if(!(a=r(o.element)).is(":visible"))return;t&&(e.handleFirstNode(o),t=!1),o.hasChildren()?o.is_open?e.handleOpenFolder(o,a)||(s=!1):e.handleClosedFolder(o,i,a):e.handleNode(o,i,a)}if(s){var l=o.children.length;o.children.forEach((function(e,t){n(o.children[t],t===l-1?null:o.children[t+1])})),o.is_open&&a&&e.handleAfterOpenFolder(o,i)}};n(this.tree,null)},e}());t.HitAreasGenerator=d;var p=function(){function e(e,t,n,o){this.offsetX=t,this.offsetY=n,this.$element=r('<span class="jqtree-title jqtree-dragging">'+e+"</span>"),this.$element.css("position","absolute"),o.append(this.$element)}return e.prototype.move=function(e,t){this.$element.offset({left:e-this.offsetX,top:t-this.offsetY})},e.prototype.remove=function(){this.$element.remove()},e}()},function(e,t,n){"use strict";t.__esModule=!0;var i=n(1),r=function(){function e(e){this.treeWidget=e,this.openedIconElement=this.createButtonElement(e.options.openedIcon),this.closedIconElement=this.createButtonElement(e.options.closedIcon)}return e.prototype.render=function(e){e&&e.parent?this.renderFromNode(e):this.renderFromRoot()},e.prototype.renderFromRoot=function(){var e=this.treeWidget.element;e.empty(),this.createDomElements(e[0],this.treeWidget.tree.children,!0,1)},e.prototype.renderFromNode=function(e){var t=o(e.element),n=this.createLi(e,e.getLevel());this.attachNodeData(e,n),t.after(n),t.remove(),e.children&&this.createDomElements(n,e.children,!1,e.getLevel()+1)},e.prototype.createDomElements=function(e,t,n,o){var i=this.createUl(n);e.appendChild(i);for(var r=0,s=t;r<s.length;r++){var a=s[r],l=this.createLi(a,o);i.appendChild(l),this.attachNodeData(a,l),a.hasChildren()&&this.createDomElements(l,a.children,!1,o+1)}},e.prototype.attachNodeData=function(e,t){e.element=t,o(t).data("node",e)},e.prototype.createUl=function(e){var t,n;e?(t="jqtree-tree",n="tree",this.treeWidget.options.rtl&&(t+=" jqtree-rtl")):(t="",n="group");var o=document.createElement("ul");return o.className="jqtree_common "+t,o.setAttribute("role",n),o},e.prototype.createLi=function(e,t){var n=Boolean(this.treeWidget.selectNodeHandler&&this.treeWidget.selectNodeHandler.isNodeSelected(e)),i=e.isFolder()?this.createFolderLi(e,t,n):this.createNodeLi(e,t,n);return this.treeWidget.options.onCreateLi&&this.treeWidget.options.onCreateLi(e,o(i),n),i},e.prototype.createFolderLi=function(e,t,n){var o=this.getButtonClasses(e),i=this.getFolderClasses(e,n),r=e.is_open?this.openedIconElement:this.closedIconElement,s=document.createElement("li");s.className="jqtree_common "+i,s.setAttribute("role","presentation");var a=document.createElement("div");a.className="jqtree-element jqtree_common",a.setAttribute("role","presentation"),s.appendChild(a);var l=document.createElement("a");return l.className=o,l.appendChild(r.cloneNode(!0)),l.setAttribute("role","presentation"),l.setAttribute("aria-hidden","true"),this.treeWidget.options.buttonLeft&&a.appendChild(l),a.appendChild(this.createTitleSpan(e.name,t,n,e.is_open,!0)),this.treeWidget.options.buttonLeft||a.appendChild(l),s},e.prototype.createNodeLi=function(e,t,n){var o=["jqtree_common"];n&&o.push("jqtree-selected");var i=o.join(" "),r=document.createElement("li");r.className=i,r.setAttribute("role","presentation");var s=document.createElement("div");return s.className="jqtree-element jqtree_common",s.setAttribute("role","presentation"),r.appendChild(s),s.appendChild(this.createTitleSpan(e.name,t,n,e.is_open,!1)),r},e.prototype.createTitleSpan=function(e,t,n,o,r){var s=document.createElement("span"),a="jqtree-title jqtree_common";return r&&(a+=" jqtree-title-folder"),s.className=a,s.setAttribute("role","treeitem"),s.setAttribute("aria-level",""+t),s.setAttribute("aria-selected",i.getBoolString(n)),s.setAttribute("aria-expanded",i.getBoolString(o)),n&&s.setAttribute("tabindex",this.treeWidget.options.tabIndex),s.innerHTML=this.escapeIfNecessary(e),s},e.prototype.getButtonClasses=function(e){var t=["jqtree-toggler","jqtree_common"];return e.is_open||t.push("jqtree-closed"),this.treeWidget.options.buttonLeft?t.push("jqtree-toggler-left"):t.push("jqtree-toggler-right"),t.join(" ")},e.prototype.getFolderClasses=function(e,t){var n=["jqtree-folder"];return e.is_open||n.push("jqtree-closed"),t&&n.push("jqtree-selected"),e.is_loading&&n.push("jqtree-loading"),n.join(" ")},e.prototype.escapeIfNecessary=function(e){return this.treeWidget.options.autoEscape?i.htmlEscape(e):e},e.prototype.createButtonElement=function(e){if("string"==typeof e){var t=document.createElement("div");return t.innerHTML=e,document.createTextNode(t.innerHTML)}return o(e)[0]},e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e){this.treeWidget=e}return e.prototype.loadFromUrl=function(e,t,n){var o=this;if(e){var i=this.getDomElement(t);this.addLoadingClass(i),this.notifyLoading(!0,t,i);var r=function(){o.removeLoadingClass(i),o.notifyLoading(!1,t,i)};this.submitRequest(e,(function(e){r(),o.treeWidget.loadData(o.parseData(e),t),n&&"function"==typeof n&&n()}),(function(e){r();var t=o.treeWidget.options.onLoadFailed;t&&t(e)}))}},e.prototype.addLoadingClass=function(e){e&&e.addClass("jqtree-loading")},e.prototype.removeLoadingClass=function(e){e&&e.removeClass("jqtree-loading")},e.prototype.getDomElement=function(e){return e?o(e.element):this.treeWidget.element},e.prototype.notifyLoading=function(e,t,n){var o=this.treeWidget.options.onLoading;o&&o(e,t,n),this.treeWidget._triggerEvent("tree.loading_data",{isLoading:e,node:t,$el:n})},e.prototype.submitRequest=function(e,t,n){var i=o.extend({method:"GET"},"string"==typeof e?{url:e}:e,{cache:!1,dataType:"json",success:t,error:n});i.method=i.method.toUpperCase(),o.ajax(i)},e.prototype.parseData=function(e){var t=this.treeWidget.options.dataFilter,n=e instanceof Array||"object"==typeof e?e:null!=e?o.parseJSON(e):[];return t?t(n):n},e}();t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(t){var n=this;this.handleKeyDown=function(t){if(!n.canHandleKeyboard())return!0;switch(t.which){case e.DOWN:return n.moveDown();case e.UP:return n.moveUp();case e.RIGHT:return n.moveRight();case e.LEFT:return n.moveLeft();default:return!0}},this.treeWidget=t,t.options.keyboardSupport&&o(document).on("keydown.jqtree",this.handleKeyDown)}return e.prototype.deinit=function(){o(document).off("keydown.jqtree")},e.prototype.moveDown=function(){var e=this.treeWidget.getSelectedNode();return!!e&&this.selectNode(e.getNextNode())},e.prototype.moveUp=function(){var e=this.treeWidget.getSelectedNode();return!!e&&this.selectNode(e.getPreviousNode())},e.prototype.moveRight=function(){var e=this.treeWidget.getSelectedNode();return!e||!e.isFolder()||(e.is_open?this.selectNode(e.getNextNode()):(this.treeWidget.openNode(e),!1))},e.prototype.moveLeft=function(){var e=this.treeWidget.getSelectedNode();return!e||(e.isFolder()&&e.is_open?(this.treeWidget.closeNode(e),!1):this.selectNode(e.getParent()))},e.prototype.selectNode=function(e){return!e||(this.treeWidget.selectNode(e),this.treeWidget.scrollHandler&&!this.treeWidget.scrollHandler.isScrolledIntoView(o(e.element).find(".jqtree-element"))&&this.treeWidget.scrollToNode(e),!1)},e.prototype.canHandleKeyboard=function(){return this.treeWidget.options.keyboardSupport&&this.isFocusOnTree()&&null!=this.treeWidget.getSelectedNode()},e.prototype.isFocusOnTree=function(){var e=document.activeElement;return Boolean(e&&"SPAN"===e.tagName&&this.treeWidget._containsElement(e))},e.LEFT=37,e.UP=38,e.RIGHT=39,e.DOWN=40,e}();t.default=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mouseDown=function(e){if(1===e.which){var n=t._handleMouseDown(t._getPositionInfo(e));return n&&e.preventDefault(),n}},t.mouseMove=function(e){return t._handleMouseMove(e,t._getPositionInfo(e))},t.mouseUp=function(e){return t._handleMouseUp(t._getPositionInfo(e))},t.touchStart=function(e){var n=e.originalEvent;if(!(n.touches.length>1)){var o=n.changedTouches[0];return t._handleMouseDown(t._getPositionInfo(o))}},t.touchMove=function(e){var n=e.originalEvent;if(!(n.touches.length>1)){var o=n.changedTouches[0];return t._handleMouseMove(e,t._getPositionInfo(o))}},t.touchEnd=function(e){var n=e.originalEvent;if(!(n.touches.length>1)){var o=n.changedTouches[0];return t._handleMouseUp(t._getPositionInfo(o))}},t}return r(t,e),t.prototype.setMouseDelay=function(e){this.mouseDelay=e},t.prototype._init=function(){this.$el.on("mousedown.mousewidget",this.mouseDown),this.$el.on("touchstart.mousewidget",this.touchStart),this.isMouseStarted=!1,this.mouseDelay=0,this.mouseDelayTimer=null,this.isMouseDelayMet=!0,this.mouseDownInfo=null},t.prototype._deinit=function(){this.$el.off("mousedown.mousewidget"),this.$el.off("touchstart.mousewidget");var e=o(document);e.off("mousemove.mousewidget"),e.off("mouseup.mousewidget")},t.prototype._handleMouseDown=function(e){if(this.isMouseStarted&&this._handleMouseUp(e),this.mouseDownInfo=e,this._mouseCapture(e))return this._handleStartMouse(),!0},t.prototype._handleStartMouse=function(){var e=o(document);e.on("mousemove.mousewidget",this.mouseMove),e.on("touchmove.mousewidget",this.touchMove),e.on("mouseup.mousewidget",this.mouseUp),e.on("touchend.mousewidget",this.touchEnd),this.mouseDelay&&this._startMouseDelayTimer()},t.prototype._startMouseDelayTimer=function(){var e=this;this.mouseDelayTimer&&clearTimeout(this.mouseDelayTimer),this.mouseDelayTimer=window.setTimeout((function(){e.isMouseDelayMet=!0}),this.mouseDelay),this.isMouseDelayMet=!1},t.prototype._handleMouseMove=function(e,t){return this.isMouseStarted?(this._mouseDrag(t),e.preventDefault()):!(!this.mouseDelay||this.isMouseDelayMet)||(this.mouseDownInfo&&(this.isMouseStarted=!1!==this._mouseStart(this.mouseDownInfo)),this.isMouseStarted?this._mouseDrag(t):this._handleMouseUp(t),!this.isMouseStarted)},t.prototype._getPositionInfo=function(e){return{pageX:e.pageX,pageY:e.pageY,target:e.target,originalEvent:e}},t.prototype._handleMouseUp=function(e){var t=o(document);t.off("mousemove.mousewidget"),t.off("touchmove.mousewidget"),t.off("mouseup.mousewidget"),t.off("touchend.mousewidget"),this.isMouseStarted&&(this.isMouseStarted=!1,this._mouseStop(e))},t}(n(3).default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var i=n(1),r=function(){function e(e){this.treeWidget=e}return e.prototype.saveState=function(){var e=JSON.stringify(this.getState());this.treeWidget.options.onSetStateFromStorage?this.treeWidget.options.onSetStateFromStorage(e):this.supportsLocalStorage()&&localStorage.setItem(this.getKeyName(),e)},e.prototype.getStateFromStorage=function(){var e=this._loadFromStorage();return e?this._parseState(e):null},e.prototype.getState=function(){var e;return{open_nodes:(e=[],this.treeWidget.tree.iterate((function(t){return t.is_open&&t.id&&t.hasChildren()&&e.push(t.id),!0})),e),selected_node:this.treeWidget.getSelectedNodes().map((function(e){return e.id}))}},e.prototype.setInitialState=function(e){if(e){var t=!1;return e.open_nodes&&(t=this._openInitialNodes(e.open_nodes)),e.selected_node&&(this._resetSelection(),this._selectInitialNodes(e.selected_node)),t}return!1},e.prototype.setInitialStateOnDemand=function(e,t){e?this._setInitialStateOnDemand(e.open_nodes,e.selected_node,t):t()},e.prototype.getNodeIdToBeSelected=function(){var e=this.getStateFromStorage();return e&&e.selected_node?e.selected_node[0]:null},e.prototype._parseState=function(e){var t=o.parseJSON(e);return t&&t.selected_node&&i.isInt(t.selected_node)&&(t.selected_node=[t.selected_node]),t},e.prototype._loadFromStorage=function(){return this.treeWidget.options.onGetStateFromStorage?this.treeWidget.options.onGetStateFromStorage():this.supportsLocalStorage()?localStorage.getItem(this.getKeyName()):void 0},e.prototype._openInitialNodes=function(e){for(var t=!1,n=0,o=e;n<o.length;n++){var i=o[n],r=this.treeWidget.getNodeById(i);r&&(r.load_on_demand?t=!0:r.is_open=!0)}return t},e.prototype._selectInitialNodes=function(e){for(var t=0,n=0,o=e;n<o.length;n++){var i=o[n],r=this.treeWidget.getNodeById(i);r&&(t+=1,this.treeWidget.selectNodeHandler&&this.treeWidget.selectNodeHandler.addToSelection(r))}return 0!==t},e.prototype._resetSelection=function(){var e=this.treeWidget.selectNodeHandler;e&&e.getSelectedNodes().forEach((function(t){e.removeFromSelection(t)}))},e.prototype._setInitialStateOnDemand=function(e,t,n){var o=this,i=0,r=e,s=function(){for(var e=[],s=0,l=r;s<l.length;s++){var d=l[s],p=o.treeWidget.getNodeById(d);p?p.is_loading||(p.load_on_demand?a(p):o.treeWidget._openNode(p,!1,null)):e.push(d)}r=e,o._selectInitialNodes(t)&&o.treeWidget._refreshElements(null),0===i&&n()},a=function(e){i+=1,o.treeWidget._openNode(e,!1,(function(){i-=1,s()}))};s()},e.prototype.getKeyName=function(){return"string"==typeof this.treeWidget.options.saveState?this.treeWidget.options.saveState:"tree"},e.prototype.supportsLocalStorage=function(){return null==this._supportsLocalStorage&&(this._supportsLocalStorage=function(){if(null==localStorage)return!1;try{var e="_storage_test";sessionStorage.setItem(e,"value"),sessionStorage.removeItem(e)}catch(e){return!1}return!0}()),this._supportsLocalStorage},e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e){this.treeWidget=e,this.previousTop=-1,this.isInitialized=!1}return e.prototype.checkScrolling=function(){this.ensureInit(),this.checkVerticalScrolling(),this.checkHorizontalScrolling()},e.prototype.scrollToY=function(e){if(this.ensureInit(),this.$scrollParent)this.$scrollParent[0].scrollTop=e;else{var t=this.treeWidget.$el.offset(),n=t?t.top:0;o(document).scrollTop(e+n)}},e.prototype.isScrolledIntoView=function(e){var t,n,i,r;this.ensureInit();var s,a=e.height()||0;return this.$scrollParent?(r=0,n=this.$scrollParent.height()||0,t=(i=((s=e.offset())?s.top:0)-this.scrollParentTop)+a):(n=(r=o(window).scrollTop()||0)+(o(window).height()||0),t=(i=(s=e.offset())?s.top:0)+a),t<=n&&i>=r},e.prototype.getScrollLeft=function(){return this.$scrollParent&&this.$scrollParent.scrollLeft()||0},e.prototype.initScrollParent=function(){var e=this,t=function(){e.scrollParentTop=0,e.$scrollParent=null};"fixed"===this.treeWidget.$el.css("position")&&t();var n=function(){var t=["overflow","overflow-y"],n=function(e){for(var n=0,o=t;n<o.length;n++){var i=o[n],r=e.css(i);if("auto"===r||"scroll"===r)return!0}return!1};if(n(e.treeWidget.$el))return e.treeWidget.$el;for(var i=0,r=e.treeWidget.$el.parents().get();i<r.length;i++){var s=r[i],a=o(s);if(n(a))return a}return null}();if(n&&n.length&&"HTML"!==n[0].tagName){this.$scrollParent=n;var i=this.$scrollParent.offset();this.scrollParentTop=i?i.top:0}else t();this.isInitialized=!0},e.prototype.ensureInit=function(){this.isInitialized||this.initScrollParent()},e.prototype.handleVerticalScrollingWithScrollParent=function(e){var t=this.$scrollParent&&this.$scrollParent[0];t&&(this.scrollParentTop+t.offsetHeight-e.bottom<20?(t.scrollTop+=20,this.treeWidget.refreshHitAreas(),this.previousTop=-1):e.top-this.scrollParentTop<20&&(t.scrollTop-=20,this.treeWidget.refreshHitAreas(),this.previousTop=-1))},e.prototype.handleVerticalScrollingWithDocument=function(e){var t=o(document).scrollTop()||0;e.top-t<20?o(document).scrollTop(t-20):(o(window).height()||0)-(e.bottom-t)<20&&o(document).scrollTop(t+20)},e.prototype.checkVerticalScrolling=function(){var e=this.treeWidget.dndHandler&&this.treeWidget.dndHandler.hoveredArea;e&&e.top!==this.previousTop&&(this.previousTop=e.top,this.$scrollParent?this.handleVerticalScrollingWithScrollParent(e):this.handleVerticalScrollingWithDocument(e))},e.prototype.checkHorizontalScrolling=function(){var e=this.treeWidget.dndHandler&&this.treeWidget.dndHandler.positionInfo;e&&(this.$scrollParent?this.handleHorizontalScrollingWithParent(e):this.handleHorizontalScrollingWithDocument(e))},e.prototype.handleHorizontalScrollingWithParent=function(e){if(void 0!==e.pageX&&void 0!==e.pageY){var t=this.$scrollParent,n=t&&t.offset();if(t&&n){var o=t[0],i=o.scrollLeft+o.clientWidth<o.scrollWidth,r=o.scrollLeft>0,s=n.left+o.clientWidth,a=n.left,l=e.pageX>s-20,d=e.pageX<a+20;l&&i?o.scrollLeft=Math.min(o.scrollLeft+20,o.scrollWidth):d&&r&&(o.scrollLeft=Math.max(o.scrollLeft-20,0))}}},e.prototype.handleHorizontalScrollingWithDocument=function(e){if(void 0!==e.pageX&&void 0!==e.pageY){var t=o(document),n=t.scrollLeft()||0,i=o(window).width()||0,r=n>0,s=e.pageX>i-20,a=e.pageX-n<20;s?t.scrollLeft(n+20):a&&r&&t.scrollLeft(Math.max(n-20,0))}},e}();t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e){this.treeWidget=e,this.clear()}return e.prototype.getSelectedNode=function(){var e=this.getSelectedNodes();return!!e.length&&e[0]},e.prototype.getSelectedNodes=function(){if(this.selectedSingleNode)return[this.selectedSingleNode];var e=[];for(var t in this.selectedNodes)if(this.selectedNodes.hasOwnProperty(t)){var n=this.treeWidget.getNodeById(t);n&&e.push(n)}return e},e.prototype.getSelectedNodesUnder=function(e){if(this.selectedSingleNode)return e.isParentOf(this.selectedSingleNode)?[this.selectedSingleNode]:[];var t=[];for(var n in this.selectedNodes)if(this.selectedNodes.hasOwnProperty(n)){var o=this.treeWidget.getNodeById(n);o&&e.isParentOf(o)&&t.push(o)}return t},e.prototype.isNodeSelected=function(e){return!!e&&(null!=e.id?!!this.selectedNodes[e.id]:!!this.selectedSingleNode&&this.selectedSingleNode.element===e.element)},e.prototype.clear=function(){this.selectedNodes={},this.selectedSingleNode=null},e.prototype.removeFromSelection=function(e,t){var n=this;void 0===t&&(t=!1),null==e.id?this.selectedSingleNode&&e.element===this.selectedSingleNode.element&&(this.selectedSingleNode=null):(delete this.selectedNodes[e.id],t&&e.iterate((function(){return delete n.selectedNodes[e.id],!0})))},e.prototype.addToSelection=function(e){null!=e.id?this.selectedNodes[e.id]=!0:this.selectedSingleNode=e},e}();t.default=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var s=n(0),a=function(){function e(e,t){this.init(e,t)}return e.prototype.init=function(e,t){this.node=e,this.treeWidget=t,e.element||(e.element=this.treeWidget.element.get(0)),this.$element=o(e.element)},e.prototype.addDropHint=function(e){return this.mustShowBorderDropHint(e)?new d(this.$element,this.treeWidget._getScrollLeft()):new p(this.node,this.$element,e)},e.prototype.select=function(e){var t=this.getLi();t.addClass("jqtree-selected"),t.attr("aria-selected","true");var n=this.getSpan();n.attr("tabindex",this.treeWidget.options.tabIndex),e&&n.focus()},e.prototype.deselect=function(){var e=this.getLi();e.removeClass("jqtree-selected"),e.attr("aria-selected","false");var t=this.getSpan();t.removeAttr("tabindex"),t.blur()},e.prototype.getUl=function(){return this.$element.children("ul:first")},e.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("span.jqtree-title")},e.prototype.getLi=function(){return this.$element},e.prototype.mustShowBorderDropHint=function(e){return e===s.Position.Inside},e}();t.NodeElement=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.open=function(e,t,n){var o=this;if(void 0===t&&(t=!0),void 0===n&&(n="fast"),!this.node.is_open){this.node.is_open=!0;var i=this.getButton();i.removeClass("jqtree-closed"),i.html("");var r=i.get(0);if(r){var s=this.treeWidget.renderer.openedIconElement.cloneNode(!0);r.appendChild(s)}var a=function(){o.getLi().removeClass("jqtree-closed"),o.getSpan().attr("aria-expanded","true"),e&&e(o.node),o.treeWidget._triggerEvent("tree.open",{node:o.node})};t?this.getUl().slideDown(n,a):(this.getUl().show(),a())}},t.prototype.close=function(e,t){var n=this;if(void 0===e&&(e=!0),void 0===t&&(t="fast"),this.node.is_open){this.node.is_open=!1;var o=this.getButton();o.addClass("jqtree-closed"),o.html("");var i=o.get(0);if(i){var r=this.treeWidget.renderer.closedIconElement.cloneNode(!0);i.appendChild(r)}var s=function(){n.getLi().addClass("jqtree-closed"),n.getSpan().attr("aria-expanded","false"),n.treeWidget._triggerEvent("tree.close",{node:n.node})};e?this.getUl().slideUp(t,s):(this.getUl().hide(),s())}},t.prototype.mustShowBorderDropHint=function(e){return!this.node.is_open&&e===s.Position.Inside},t.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")},t}(a);t.FolderElement=l;var d=function(){function e(e,t){var n=e.children(".jqtree-element"),i=e.width()||0,r=Math.max(i+t-4,0),s=n.outerHeight()||0,a=Math.max(s-4,0);this.$hint=o('<span class="jqtree-border"></span>'),n.append(this.$hint),this.$hint.css({width:r,height:a})}return e.prototype.remove=function(){this.$hint.remove()},e}();t.BorderDropHint=d;var p=function(){function e(e,t,n){this.$element=t,this.node=e,this.$ghost=o('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"></span>\n            <span class="jqtree_common jqtree-line"></span></li>'),n===s.Position.After?this.moveAfter():n===s.Position.Before?this.moveBefore():n===s.Position.Inside&&(e.isFolder()&&e.is_open?this.moveInsideOpenFolder():this.moveInside())}return e.prototype.remove=function(){this.$ghost.remove()},e.prototype.moveAfter=function(){this.$element.after(this.$ghost)},e.prototype.moveBefore=function(){this.$element.before(this.$ghost)},e.prototype.moveInsideOpenFolder=function(){o(this.node.children[0].element).before(this.$ghost)},e.prototype.moveInside=function(){this.$element.after(this.$ghost),this.$ghost.addClass("jqtree-inside")},e}()},,function(e,t,n){e.exports=n(4)}])}).call({jQuery:i})},107:function(e,t){e.exports='\n<a href="#" class="btn btn-default dropdown-toggle" type="button" id="dropdown-menu-" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\n  <span class="glyphicon glyphicon-<%= icon %>"></span>\n  <span class="dropdown-title">\n\n  </span>\n  <span class="caret"></span>\n</a>\n<ul class="dropdown-menu items dropdown-content" aria-labelledby="dropdown-menu-">\n</ul>\n'},218:function(e,t,n){var o,i;o=[n(0),n(35),n(1),n(219),n(220),n(77),n(221),n(62),n(47),n(52),n(222),n(223),n(224),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(37),n(36),n(45),n(107)],void 0===(i=function(e,t,n,o,i,r,s,a,l,d,p,c,u,h,f,g,v,m,y,_,b,N){"use strict";return t.extend({name:"filemanager",trigger:".pat-filemanager",parser:"mockup",template:n.template(s),tabItemTemplate:n.template('<li class="active" data-path="<%= path %>"><a href="#" class="select"><%= path %></a><a href="#" class="remove"><span class="glyphicon glyphicon-remove-circle"></span></a></li>'),saveBtn:null,uploadFolder:"",fileData:{},defaults:{aceConfig:{},actionUrl:null,uploadUrl:null,resourceSearchUrl:null,treeConfig:{autoOpen:!0}},init:function(){var t=this;if(null!==t.options.actionUrl){t.options.treeConfig=e.extend(!0,{},t.treeConfig,{dataUrl:t.options.actionUrl+"?action=dataTree",dragAndDrop:!0,useContextMenu:!0,onCanMoveTo:function(e,t,n){return"inside"!==n||(void 0===t.folder||!0===t.folder)},onCreateLi:function(t,n){e("span",n).addClass("glyphicon"),t.folder?e("span",n).addClass("glyphicon-folder-close").addClass("droptarget"):e.inArray(t.fileType,["png","jpg","jpeg","gif","ico"])>=0?e("span",n).addClass("glyphicon-picture"):e.inArray(t.fileType,["css","html","htm","txt","xml","js","cfg","less"])>=0?e("span",n).addClass("glyphicon-file"):e("span",n).addClass("glyphicon-cog")}}),t.fileData={},t.saveBtn=new l({id:"save",title:b("Save"),icon:"floppy-disk",context:"primary",shortcut:"Ctrl-S"}),t.btns={newfolder:new p({id:"newfolder",title:b("New folder"),tooltip:b("Add new folder to current directory"),icon:"folder-open",context:"default",shortcut:"Alt-Shift-N"}),newfile:new p({id:"addnew",title:b("New file"),tooltip:b("Add new file to current folder"),icon:"file",context:"default",shortcut:"Alt-N"}),findfile:new p({id:"findfile",title:b("Find File"),tooltip:b("Find theme resource in plone"),icon:"search",context:"default",shortcut:"Ctrl-F"}),findtextinfile:new p({id:"findinfiles",title:b("Find in Files"),tooltip:b("Find text within theme resource in plone"),icon:"search",context:"default",shortcut:"Ctrl-E"}),rename:new p({id:"rename",title:b("Rename"),tooltip:b("Rename currently selected resource"),icon:"random",context:"default"}),delete:new p({id:"delete",title:b("Delete"),tooltip:b("Delete currently selected resource"),icon:"trash",context:"danger"})};var n=new h({triggerView:t.btns.newfolder,app:t}),o=new u({triggerView:t.btns.newfile,app:t}),i=new f({triggerView:t.btns.findfile,app:t}),r=new g({triggerView:t.btns.findtextinfile,app:t}),s=new y({triggerView:t.btns.rename,app:t}),w=new v({triggerView:t.btns.delete,app:t}),S=new c({title:b("File"),items:[o.triggerView,n.triggerView],id:"file_menu",app:t,icon:"file",disable:function(){}}),C=new c({title:b("Edit"),items:[s.triggerView,w.triggerView],id:"edit_menu",app:t,icon:"file",disable:function(){}}),x=new c({title:b("Find"),items:[i.triggerView,r.triggerView],id:"find_menu",icon:"search",app:t,disable:function(){}}),$={file_menu:[n,o],edit_menu:[s,w],find_menu:[i,r]},T=[t.saveBtn,S,C,x];if(t.options.uploadUrl&&N.featureSupport.dragAndDrop()&&N.featureSupport.fileApi()){t.btns.upload=new p({id:"upload",title:b("Upload Local Files..."),tooltip:b("Upload file to current directory"),icon:"upload",context:"default"});var D=new _({triggerView:t.btns.upload,app:t,callback:function(e){var n=t.uploadFolder+"/"+e.name;t.refreshTree((function(){t.selectItem(n),t.getUpload().toggle()}))}});$.file_menu.push(D),S.items.push(D.triggerView)}if(t.options.resourceSearchUrl){t.btns.customize=new p({id:"customize",title:b("Add new override"),tooltip:b("Find resource in plone to override"),context:"default"});var P=new m({triggerView:t.btns.customize,app:t});$.edit_menu.push(P),C.items.push(P.triggerView)}t.views=[],t.views=t.views.concat($.file_menu).concat($.edit_menu).concat($.find_menu),t.toolbar=new a({items:[new d({items:T,id:"main",app:t})]}),t._save=function(){var n=e(".active",t.$tabs).data("path");void 0!==n&&!1!==n?t.doAction("saveFile",{type:"POST",data:{path:n,data:t.ace.editor.getValue(),_authenticator:N.getAuthenticator()},success:function(t){void 0!==t.error&&alert("There was a problem saving the file."),e('[data-path="'+n+'"]').removeClass("modified")}}):alert("No file selected.")},t.saveBtn.on("button:click",(function(){t._save()})),t.render(),t.shortcuts()}else t.$el.html("Must specify actionUrl setting for pattern")},shortcuts:function(){this.$el[0].addEventListener("keyup",function(e){e.altKey&&78===e.keyCode&&this.btns.newfile.$el.click()}.bind(this)),this.$el[0].addEventListener("keyup",function(e){e.altKey&&e.shiftKey&&78===e.keyCode&&this.btns.newfolder.$el.click()}.bind(this)),this.$el[0].addEventListener("keyup",function(e){e.ctrlKey&&83===e.keyCode&&this.saveBtn.$el.click()}.bind(this)),this.$el[0].addEventListener("keyup",function(e){e.ctrlKey&&70===e.keyCode&&this.btns.findfile.$el.click()}.bind(this)),this.$el[0].addEventListener("keyup",function(e){e.ctrlKey&&69===e.keyCode&&this.btns.findtextinfile.$el.click()}.bind(this))},$:function(e){return this.$el.find(e)},refreshTree:function(e){void 0===e&&(e=function(){}),this.$tree.tree("loadDataFromUrl",this.options.actionUrl+"?action=dataTree",null,e)},render:function(){var t=this;t.$el.html(t.template(t.options)),t.$("#toolbar").append(t.toolbar.render().el),n.each(t.views,(function(e){t.$("#toolbar").append(e.render().el)})),t.$tree=t.$(".tree"),t.$nav=t.$("nav"),t.$tabs=e("ul.nav",t.$nav),t.tree=new i(t.$tree,t.options.treeConfig),t.$editor=t.$(".editor"),e(document).click((function(t){var n=e(t.target);if(n.is(":visible")&&!n.is("a")&&!n.parent().is("a")){var o=e(".popover:visible");if(o.length>0&&!e.contains(o[0],n[0])){var i=o.data("component");i&&i.hide()}}})),t.$tree.jqTreeContextMenu({menu:"#contextual-menu",onContextMenuItem:function(e,n,o){var i=o.data("item");try{t.btns[i].el.click()}catch(e){console.log("Command does not exist: "+i)}}}),t.$tree.bind("tree.select",(function(e){null===e.node?t.toggleButtons(!1):(t.toggleButtons(!0),t.handleClick(e))})),t.$tree.bind("tree.move",(function(e){var n=e.move_info.target_node,o=e.move_info.moved_node.path,i=n.path;"inside"!==e.move_info.position&&(i=i.substring(i.indexOf("/"),i.lastIndexOf("/"))),t.doAction("move",{data:{source:o,destination:i},dataType:"json",success:function(e){t.$tree.tree("reload",(function(){t.$tree.tree("selectNode",n)}));var o=JSON.parse(e);""!=o.error&&alert(o.error)}})})),t.$tree.bind("tree.open",(function(t){var n=e(t.node.element).find(":first").find(".glyphicon");e(n).addClass("glyphicon-folder-open"),e(n).removeClass("glyphicon-folder-close")})),t.$tree.bind("tree.close",(function(t){var n=e(t.node.element).find(":first").find(".glyphicon");e(n).addClass("glyphicon-folder-close"),e(n).removeClass("glyphicon-folder-open")})),t.$tree.bind("tree.init",(function(e){var n=t.$tree.tree("getTree").children[0];n&&t.$tree.tree("selectNode",n)})),e(t.$tabs).on("click",(function(n){var o=e(n.target).data("path");if(void 0===o&&void 0===(o=e(n.target.parentElement).data("path")))return!1;t.selectItem(o)})),e(window).on("resize",(function(){t.resizeEditor()}))},toggleButtons:function(t){void 0!==t&&(t?(e("#btn-delete",this.$el).prop("disabled",!1),e("#btn-save",this.$el).prop("disabled",!1),e("#btn-rename",this.$el).prop("disabled",!1)):(e("#btn-delete",this.$el).prop("disabled",!0),e("#btn-save",this.$el).prop("disabled",!0),e("#btn-rename",this.$el).prop("disabled",!0)))},handleClick:function(e){this.closeActivePopovers(),this.openFile(e)},closeActiveTab:function(){var t,n=this.$tabs.find(".active .remove");e(n).parent().siblings().length>0?(t=e(n).parent().prev().length>0?e(n).parent().prev():e(n).parent().next(),e(n).parent().remove(),t.click()):(e(n).parent().remove(),this.toggleButtons(!1),this.openEditor())},closeTab:function(t){if(void 0!==t){var n=this.$tabs.children();e(n).each((function(){e(this).data("path")==t&&e(this).find("a.remove").trigger("click")}))}},closeActivePopovers:function(){var t=e(".navbar a.active");e(t).each((function(){e(this).click()}))},createTab:function(t){var n=this,o=e(n.tabItemTemplate({path:t}));n.shrinkTab(o),n.$tabs.append(o),e(".remove",o).click((function(t){t.preventDefault(),t.stopPropagation(),n.closeActivePopovers(),e(this).parent().hasClass("active")?n.closeActiveTab():e(this).parent().remove()})),e(".select",o).click((function(t){t.preventDefault(),e("li",n.$tabs).removeClass("active");var o=e(this).parent();n.closeActivePopovers(),o.addClass("active")}))},updateTabs:function(t){if(void 0!==t){e("li",this.$tabs).removeClass("active");var n=e('[data-path="'+t+'"]',this.$tabs);0===n.length?this.createTab(t):n.addClass("active")}},shrinkTab:function(t){if(this.$tabs.hasClass("smallTabs")){var n=(t=e(t)).text();n.lastIndexOf("/")>0&&(n=n.substr(n.lastIndexOf("/")+1),t.find(".select").text(n))}},openFile:function(e){var t=this;if(null===e.node)return!0;if(e.node.folder)return t.options.theme&&t.setUploadUrl(e.node.path),!0;var n=e.node.path;if(t.fileData[n]){t.openEditor(n);var o=function(){void 0!==t.fileData[n].line&&(t.ace.editor.scrollToLine(t.fileData[n].line),t.ace.editor.moveCursorToPosition(t.fileData[n].cursorPosition),t.ace.editor.renderer.off("afterRender",o))};t.ace.editor.renderer.on("afterRender",o)}else t.doAction("getFile",{data:{path:n},dataType:"json",success:function(e){t.fileData[n]=e,t.openEditor(n)}})},getNodeByPath:function(e){if(void 0===e||""===e)return null;0===e.indexOf("/")&&(e=e.substr(1,e.length));for(var t=e.split("/"),n=this.$tree.tree("getTree").children,o=0;o<t.length;o++)for(var i=0;i<n.length;i++)if(n[i].name==t[o]){if(1==n[i].folder&&o!=t.length-1){n=n[i].children;break}return n[i]}return null},doAction:function(t,n){n||(n={}),e.ajax({url:this.options.actionUrl,type:n.type||"GET",data:e.extend({},{_authenticator:N.getAuthenticator(),action:t},n.data||{}),success:n.success,failure:n.failure||function(){}})},openEditor:function(t,n){var o=this;if(void 0!==t&&o.updateTabs(t),void 0===n&&(n={}),o.currentPath){o.fileData[o.currentPath].contents=o.ace.editor.getValue();var i=o.ace.editor.getFirstVisibleRow();o.fileData[o.currentPath].line=i,o.fileData[o.currentPath].cursorPosition=o.ace.editor.getCursorPosition()}if(o.currentPath=t,void 0!==o.ace&&(o.ace.editor.destroy(),o.ace.editor.container.parentNode.replaceChild(o.ace.editor.container.cloneNode(!0),o.ace.editor.container)),o.ace=new r(o.$editor),void 0===o.currentPath)o.ace.setText(""),o.ace.setSyntax("text"),o.ace.editor.clearSelection(),o.$tree.tree("selectNode",null);else if(void 0!==o.fileData[t].info){var s=o.fileData[t].info;void 0!==o.ace.editor&&o.ace.editor.off(),e(".ace_editor").empty().append(s)}else o.ace.setText(o.fileData[t].contents),o.ace.setSyntax(t),o.ace.editor.clearSelection();o.resizeEditor(),null!=n.goToLine&&o.ace.editor.gotoLine(n.goToLine,0,!0),o.$el.trigger("fileChange"),o.ace.editor.on("change",(function(){o.ace.editor.curOp&&o.ace.editor.curOp.command.name&&e('[data-path="'+t+'"]').addClass("modified")})),o.ace.editor.on("paste",(function(){e('[data-path="'+t+'"]').addClass("modified")})),o.ace.editor.commands.addCommand({name:"saveFile",bindKey:{win:"Ctrl-S",mac:"Command-S",sender:"editor|cli"},exec:function(e,t,n){o._save()}})},getSelectedNode:function(){return this.$tree.tree("getSelectedNode")},getNodePath:function(e){void 0===e&&(e=this.getSelectedNode());var t=this.getFolderPath(e.parent);return"/"!==t&&(t+="/"),t+(void 0!==e.name?e.name:"")},getFolderPath:function(e){void 0===e&&(e=this.getSelectedNode());var t=[];for(!e.folder&&e.name&&(e=e.parent);e.name;)t.push(e.name),e=e.parent;return t.reverse(),"/"+t.join("/")},getUpload:function(){return n.find(this.views,(function(e){return void 0!==e.upload}))},resizeEditor:function(){var t=this;t.$editor=e(".editor",t.$el);var n=t.$tabs.children()[0];e(n).outerHeight()<t.$tabs.height()-1&&(t.$tabs.addClass("smallTabs"),e(t.$tabs.children()).each((function(){t.shrinkTab(this)})));var o=t.$tabs.parent(),i=o.parent().parent(),r=i.innerHeight();r-=o.outerHeight(),r-=2,t.$editor.height(r);var s=i.innerWidth();s-=i.outerWidth(!0)-i.innerWidth(),t.$editor.width(s),void 0!==t.ace&&(t.ace.editor.resize(),t.ace.editor.$blockScrolling=1/0,t.ace.editor.focus())},selectItem:function(e){var t=this.getNodeByPath(e);this.$tree.tree("selectNode",t)},setUploadUrl:function(e){void 0===e&&(e=""),this.uploadFolder=e;var t=this.getUpload();if(void 0!==t){var n=this.options.uploadUrl+e+"/themeFileUpload?_authenticator="+N.getAuthenticator();t.upload.dropzone.options.url=n}},refreshFile:function(e){void 0===e&&(e=this.getSelectedNode().path),this.closeTab(e),delete this.fileData[e],this.selectItem(e)}})}.apply(t,o))||(e.exports=i)},219:function(e,t,n){var o=n(0),i=n(0);(function(){n(106);!function(e){if(!e.fn.tree)throw"Error jqTree is not loaded.";e.fn.jqTreeContextMenu=function(t){var n,i=e.extend({},{menuFadeDuration:250,selectClickedNode:!0,onContextMenuItem:null,contextMenuDecider:null},t),r=this,s=r.data("simple_widget_tree");if(!s||!s.options.useContextMenu)throw"Either jqTree was not found or useContextMenu in jqTree is set to false.";if(i.menu instanceof o)n=i.menu;else{if("string"!=typeof i.menu)throw"You must pass a menu selector string or jquery element to the jqTreeContextMenu.";n=e(i.menu)}return n.hide(),i.onContextMenuItem&&this.bind("cm-jqtree.item.click",i.onContextMenuItem),r.bind("tree.contextmenu",(function(t){var o=n;if("function"==typeof i.contextMenuDecider){var s=i.contextMenuDecider(t.node);o="string"==typeof s?e(s):n}var a=t.click_event.pageX,l=t.click_event.pageY,d=o.height(),p=o.width(),c=e(window).height(),u=e(window).width();d+l+5>c&&(l-=d),p+a+5>u&&(a-=p),o.fadeIn(i.menuFadeDuration),o.offset({left:a,top:l});var h=function(){e(document).unbind("click.jqtreecontextmenu"),r.unbind("tree.click.jqtreecontextmenu"),o.fadeOut(i.menuFadeDuration)};e(document).bind("click.jqtreecontextmenu",(function(e){a==e.pageX&&l==e.pageY||h()})),r.bind("tree.click.jqtreecontextmenu",(function(){h()})),i.selectClickedNode&&r.tree("getSelectedNode")!==t.node&&r.tree("selectNode",t.node),o.find("li").off("click.contextmenu").on("click.contextmenu",(function(n){n.stopImmediatePropagation(),h(),r.trigger("cm-jqtree.item.click",[t.node,e(this)])}))})),this}}(o)}).call({jQuery:i})},220:function(e,t,n){var o,i;o=[n(0),n(35),n(36),n(106)],void 0===(i=function(e,t,n){"use strict";return t.extend({name:"tree",trigger:".pat-tree",parser:"mockup",defaults:{dragAndDrop:!1,autoOpen:!1,selectable:!0,keyboardSupport:!0,onLoad:null},init:function(){var t=this;for(var o in t.options){var i=t.defaults[o];void 0!==i&&"boolean"==typeof i&&(t.options[o]=n.bool(t.options[o]))}if(void 0===t.options.onCanMoveTo&&(t.options.onCanMoveTo=function(e,t,n){return"inside"!==n||(void 0===t.folder||!0===t.folder)}),t.options.data&&"string"==typeof t.options.data&&(t.options.data=e.parseJSON(t.options.data)),null!==t.options.onLoad){var r=e.extend({},t.options);e.getJSON(r.dataUrl,(function(e){r.data=e,delete r.dataUrl,t.tree=t.$el.tree(r),t.options.onLoad(t)}))}else t.tree=t.$el.tree(t.options)}})}.apply(t,o))||(e.exports=i)},221:function(e,t){e.exports='<div id="toolbar">\n</div>\n<div id="toolbar-action">\n</div>\n<div class="container">\n    <div class="tree">\n    </div>\n    <div class="nav-and-editor">\n        <nav class="navbar navbar-default" role="navigation">\n            <div class="collapse navbar-collapse">\n              <ul class="nav navbar-nav">\n               </ul>\n            </div>\x3c!-- /.navbar-collapse --\x3e\n            <div class="fileeditor">\n                <div class="editor">\n                </div>\n            </div>\n        </nav>\n</div>\n<ul id="contextual-menu" class="dropdown-menu">\n    <li data-item="newfile"><a>New File</a></li>\n    <li data-item="newfolder"><a>New Folder</a></li>\n    <li data-item="rename"><a>Rename</a></li>\n    <li data-item="delete"><a>Delete</a></li>\n    <li data-item="upload"><a>Upload Here</a></li>\n</ul>\n'},222:function(e,t,n){var o,i;o=[n(1),n(38),n(60)],void 0===(i=function(e,t,n){"use strict";return t.extend({tagName:"a",className:"alink",eventPrefix:"button",context:"default",idPrefix:"alink-",shortcut:"",attributes:{href:"#"},extraClasses:[],tooltip:null,template:'<% if (icon) { %><span class="glyphicon glyphicon-<%= icon %>"></span><% } %> <%= title %> <span class="shortcut"><%= shortcut %></span>',events:{click:"handleClick"},initialize:function(n){if(!n.id){var o=n.title||"";n.id=""!==o?o.toLowerCase().replace(" ","-"):this.cid}t.prototype.initialize.apply(this,[n]),this.on("render",(function(){this.$el.attr("title",this.options.tooltip||this.options.title||""),this.$el.attr("aria-label",this.options.title||this.options.tooltip||""),e.each(this.extraClasses,(function(e){this.$el.addClass(e)}))}),this)},handleClick:function(e){e.preventDefault(),this.$el.prop("disabled")||this.uiEventTrigger("click",this,e)},serializedModel:function(){return e.extend({icon:"",title:"",shortcut:""},this.options)},disable:function(){this.$el.prop("disabled",!0)},enable:function(){this.$el.prop("disabled",!1)}})}.apply(t,o))||(e.exports=i)},223:function(e,t,n){var o,i;o=[n(0),n(1),n(52),n(107)],void 0===(i=function(e,t,n,o){"use strict";return n.extend({idPrefix:"btngroup-dropdown-",template:o,className:"btn-group-dropdown",itemContainer:"ul.dropdown-content",title:null,initialize:function(e){n.prototype.initialize.apply(this,[e]),this.on("render",(function(){this.renderTitle()}),this)},renderTitle:function(){var e=this.options.title;void 0===this.options.title&&(e=this.title,null===this.title&&(e="Menu Option")),this.$(".dropdown-title").empty().append(e)},renderItems:function(){var n;if(null!==this.itemContainer){if(0===(n=e(this.itemContainer,this.$el)).length)throw"Item Container element not found."}else n=this.$el;var o=null;t.each(this.items,(function(t){(o=e("<li></li>")).append(t.render().$el.removeClass("btn")),n.append(o)}),this)}})}.apply(t,o))||(e.exports=i)},224:function(e,t,n){var o,i;o=[n(1),n(43)],void 0===(i=function(e,t){"use strict";return t.extend({className:"popover addnew",title:e.template('<%= _t("Add new file") %>'),content:e.template('<span class="current-path"></span><div class="form-group"><label for="filename-field"><%= _t("Filename") %></label><input type="text" class="form-control" id="filename-field" placeholder="<%= _t("Enter filename") %>"></div><button class="btn btn-block btn-primary"><%= _t("Add") %></button>'),events:{"click button":"addButtonClicked"},addButtonClicked:function(e){var t=this,n=t.$("input").val();n?t.app.doAction("addFile",{type:"POST",data:{filename:n,path:t.app.getFolderPath()},success:function(e){t.hide(),t.data=e,t.app.refreshTree((function(){var e=t.data.parent+"/"+t.data.name;t.app.selectItem(e),delete t.data}))}}):t.$(".form-group").addClass("has-error")}})}.apply(t,o))||(e.exports=i)},225:function(e,t){e.exports='<div class="arrow"></div>\n<div class="popover-label">\n<div style="position: relative;" class="popover-title">\n</div>\n<a style="position: absolute; top: 5px; right: 3px; font-size: 16px; color: #999;"\n   href="#" class="popover-close">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n</div>\n<div class="items popover-content">\n</div>\n\n'},226:function(e,t,n){var o,i;o=[n(1),n(43)],void 0===(i=function(e,t){"use strict";return t.extend({className:"popover addfolder",title:e.template('<%= _t("New folder") %>'),content:e.template('<span class="current-path"></span><div class="form-group"><label for="filename-field"><%= _t("Add new folder to current directory") %></label><input type="email" class="form-control" id="filename-field" placeholder="<%= _t("Enter folder name") %>"></div><button class="btn btn-block btn-primary"><%= _t("Add") %></button>'),events:{"click button":"addButtonClicked"},addButtonClicked:function(e){var t=this,n=t.$("input").val();n?t.app.doAction("addFolder",{type:"POST",data:{name:n,path:t.app.getFolderPath()},success:function(e){t.hide(),t.data=e,t.app.refreshTree((function(){var e=t.app.getNodeByPath(t.data.parent);t.app.$tree.tree("openNode",e),delete t.data}))}}):t.$(".form-group").addClass("has-error")}})}.apply(t,o))||(e.exports=i)},227:function(e,t,n){var o,i;o=[n(0),n(1),n(43),n(37)],void 0===(i=function(e,t,n,o){"use strict";return n.extend({className:"popover filesearch",closeOnOutClick:!1,backdropOptions:{zIndex:"1009",opacity:"0.4",className:"backdrop backdrop-popover",classActiveName:"backdrop-active",closeOnEsc:!1,closeOnClick:!1},title:t.template('<%= _t("Find File") %>'),content:t.template('<form><div class="input-group"><input type="text" class="search form-control" id="file-search-field" placeholder="<%= _t("Find theme resource in plone") %>"></div><div class="input-group"><input type="submit" class="btn btn-primary" value="<%= _t("Search") %>"/></div></form><br/><ul class="results list-group"></ul>'),appendToResults:function(t){var n=this,i=e('<li class="list-group-item"><span class="badge"><a data-target="'+t.path+'" href=#">'+o(t.filename)+"</a></span></li>");e("a",i).click((function(t){t.preventDefault(),n.findfile(e(this).attr("data-target"))})),n.$results.append(i)},filterFiles:function(e,n){var o=this;t.each(n,(function(t){t.folder?o.filterFiles(e,t.children):e.test(t.filename)&&(o.appendToResults(t),o.noMatches++)}))},render:function(){var t=this;return n.prototype.render.call(this),t.$form=t.$("form"),t.$searchFor=t.$("input"),t.$results=t.$(".results"),t.$form.submit((function(n){n.preventDefault(),e.ajax({url:t.app.options.actionUrl+"?action=dataTree",dataType:"json",success:function(e){t.$results.empty(),t.noMatches=0;var n=t.$searchFor.val(),o=new RegExp(n,"g");t.filterFiles(o,e),0==t.noMatches&&t.$results.append("<span>No results found for "+n+"</span>")}})})),t},findfile:function(e){var t=this;t.app.doAction("getFile",{data:{path:e},dataType:"json",success:function(n){t.app.fileData[e]=n,t.app.openEditor(e)}})}})}.apply(t,o))||(e.exports=i)},228:function(e,t,n){var o,i;o=[n(0),n(1),n(43),n(37)],void 0===(i=function(e,t,n,o){"use strict";return n.extend({className:"popover filesearch",closeOnOutClick:!1,backdropOptions:{zIndex:"1009",opacity:"0.4",className:"backdrop backdrop-popover",classActiveName:"backdrop-active",closeOnEsc:!1,closeOnClick:!1},title:t.template('<%= _t("Find in File") %>'),content:t.template('<form><div class="input-group"><input type="text" class="search form-control" id="file-search-field" placeholder="<%= _t("Find text within theme resource in plone") %>"></div><div class="input-group"><input type="submit" class="btn btn-primary" value="<%= _t("Search") %>"/></div></form><br/><ul style="max-height: 400px; overflow: auto;" class="results list-group"></ul>'),appendToResults:function(t){var n=this,i=null,r='<li class="list-group-item" data-id="'+t.file.label+'"><span class="badge">'+o(t.file.filename)+"</span><ul>";for(var s in t.lines)i=t.lines[s],r+='<li class="list-group-item" data-id="'+t.file.label+'"><span class="badge"><a class="ff-open-file" data-target="'+t.file.path+'" target-line="'+i.line+'" href="#">Line <span style="display: inline-block; width: 100px;">'+i.line+"</span><span>"+i.text+"</span><a></span></li>";var a=e(r+="</ul></li>");e("a",a).click((function(t){t.preventDefault(),n.findinfiles(e(this).attr("data-target"),parseInt(e(this).attr("target-line")))})),n.$results.append(a)},filterFile:function(t,n){var o=this;e.ajax({url:o.app.options.actionUrl+"?action=getFile&path="+n.path.replace("/","%2F"),dataType:"json",success:function(e){var i=e.contents;if(null!=i){var r=i.split("\n"),s=[],a="",l=null;for(var d in r)a=r[d],null!=(l=t.exec(a))&&s.push({line:parseInt(d)+1,text:"<b>"+l[0]+"</b>"+a.substr(l.index+l[0].length,20)});s.length>0&&(o.appendToResults({file:n,lines:s}),o.noMatches+=s.length)}}})},filterFiles:function(e,n){var o=this;t.each(n,(function(t){t.folder?o.filterFiles(e,t.children):o.filterFile(e,t)}))},render:function(){var t=this;return n.prototype.render.call(this),t.$form=t.$("form"),t.$searchFor=t.$("input"),t.$results=t.$(".results"),t.$form.submit((function(n){n.preventDefault(),e.ajax({url:t.app.options.actionUrl+"?action=dataTree",dataType:"json",success:function(e){t.$results.empty(),t.noMatches=0;var n=t.$searchFor.val(),o=new RegExp(n,"g");t.filterFiles(o,e)}})})),t},findinfiles:function(e,t){var n=this;n.app.doAction("getFile",{data:{path:e},dataType:"json",success:function(o){n.app.fileData[e]=o,n.app.openEditor(e,{goToLine:t})}})}})}.apply(t,o))||(e.exports=i)},229:function(e,t,n){var o,i;o=[n(1),n(43)],void 0===(i=function(e,t){"use strict";return t.extend({className:"popover delete",title:e.template('<%= _t("Delete") %>'),content:e.template('<span class="current-path"></span><p><%= _t("Are you sure you want to delete this resource?") %></p><button class="btn btn-block btn-danger"><%= _t("Yes, delete") %></button>'),events:{"click button":"deleteButtonClicked"},getPath:function(){return this.app.getNodePath()},deleteButtonClicked:function(e){var t=this,n=t.app.getNodePath();void 0!==n?t.app.doAction("delete",{type:"POST",data:{path:n},success:function(e){t.hide(),t.data=e,t.app.refreshTree((function(){var e=t.data.path;e=e.substr(0,e.lastIndexOf("/"));var n=t.app.getNodeByPath(e);null!==n&&t.app.$tree.tree("openNode",n),t.app.closeActiveTab(),delete t.app.fileData[t.data.path],delete t.data})),t.app.resizeEditor()}}):alert("No file selected.")}})}.apply(t,o))||(e.exports=i)},230:function(e,t,n){var o,i;o=[n(0),n(1),n(43),n(37)],void 0===(i=function(e,t,n,o){"use strict";return n.extend({className:"popover customize",title:t.template('<%= _t("Add new override") %>'),content:t.template('<form><div class="input-group"><input type="text" class="search form-control" id="search-field" placeholder="<%= _t("Find resource in plone to override") %>"><span class="input-group-btn"><input type="submit" class="btn btn-primary" value="<%= _t("Search") %>"/></span></div></form><ul class="results list-group"></ul>'),render:function(){var i=this;return n.prototype.render.call(this),i.$form=i.$("form"),i.$results=i.$(".results"),i.$form.submit((function(n){n.preventDefault(),e.ajax({url:i.app.options.resourceSearchUrl,dataType:"json",success:function(n){i.$results.empty(),t.each(n,(function(t){var n=e('<li class="list-group-item" data-id="'+t.id+'"><span class="badge"><a href=#">'+o("Customize")+"</a></span>"+t.id+"</li>");e("a",n).click((function(t){t.preventDefault(),i.customize(e(this).parents("li").eq(0).attr("data-id"))})),i.$results.append(n)}))}})})),i},customize:function(e){var t=this;t.app.doAction("customize",{type:"POST",data:{resource:e},success:function(e){t.hide(),t.$("input.search").attr("value",""),t.$results.empty(),t.app.refreshTree()}})}})}.apply(t,o))||(e.exports=i)},231:function(e,t,n){var o,i;o=[n(1),n(43)],void 0===(i=function(e,t){"use strict";return t.extend({className:"popover addnew",title:e.template('<%= _t("Rename") %>'),content:e.template('<span class="current-path"></span><div class="form-group"><label for="filename-field"><%= _t("Filename") %></label><input type="text" class="form-control" id="filename-field"></div><button class="btn btn-block btn-primary"><%= _t("Rename") %></button>'),events:{"click button":"renameButtonClicked"},toggle:function(e,n){t.prototype.toggle.apply(this,[e,n]);if(this.opened){var o=this.app.getSelectedNode();this.$("input").val(o.name),this.$(".current-path").html(this.app.getNodePath(o))}},renameButtonClicked:function(e){var t=this,n=t.$("input").val();n?t.app.doAction("renameFile",{type:"POST",data:{path:t.app.getNodePath(),filename:n},success:function(e){t.hide(),t.data=e,t.app.refreshTree((function(){var e,n;"/"!=t.data.newParent?(e=[t.data.newParent,t.data.newName].join("/"),n=[t.data.oldParent,t.data.oldName].join("/")):(e="/"+t.data.newName,n="/"+t.data.oldName),void 0!==t.app.fileData[e]?t.app.refreshFile(e):t.app.selectItem(e),t.app.closeTab(n),delete t.data}))}}):t.$(".form-group").addClass("has-error")}})}.apply(t,o))||(e.exports=i)},232:function(e,t,n){var o,i;o=[n(1),n(43),n(51)],void 0===(i=function(e,t,n){"use strict";return t.extend({className:"popover upload",title:e.template('<%= _t("Upload") %>'),content:e.template('<span>Location: <span class="current-path"></span></span><input type="text" name="upload" style="display:none" /><div class="uploadify-me"></div>'),render:function(){var e=this;return t.prototype.render.call(this),e.upload=new n(e.$(".uploadify-me").addClass("pat-upload"),{url:e.app.options.uploadUrl,success:function(t){e.callback&&("success"==t.status?e.callback.apply(e.app,[t]):alert("There was a problem during the upload process"))}}),this},toggle:function(e,n){t.prototype.toggle.apply(this,[e,n]),this.opened}})}.apply(t,o))||(e.exports=i)},41:function(e,t,n){var o,i;o=[n(0),n(1),n(42),n(50),n(45)],void 0===(i=function(e,t,n,o,i){"use strict";return n.extend({tagName:"div",className:"popover",eventPrefix:"popover",template:i,content:null,title:null,triggerView:null,idPrefix:"popover-",triggerEvents:{"button:click":"toggle"},placement:"bottom",events:{},opened:!1,closeOnOutClick:!0,appendInContainer:!0,backdrop:void 0,$backdrop:null,useBackdrop:!0,backdropOptions:{zIndex:"1009",opacity:"0.4",className:"backdrop backdrop-popover",classActiveName:"backdrop-active",closeOnEsc:!1,closeOnClick:!0},initialize:function(e){n.prototype.initialize.apply(this,[e]),this.bindTriggerEvents(),this.on("render",(function(){this.$el.attr("role","tooltip").attr("aria-hidden","false"),this.renderTitle(),this.renderContent()}),this)},afterRender:function(){},getTemplateOptions:function(){return this.options},renderTitle:function(){var e=this.title;"function"==typeof e&&(e=e(this.getTemplateOptions())),this.$(".popover-title").empty().append(e)},renderContent:function(){this.$(".popover-content").empty().append(this.content(this.getTemplateOptions()))},bindTriggerEvents:function(){this.triggerView&&t.each(this.triggerEvents,(function(t,n){var o=this[t];o||e.error("Function not found."),this.stopListening(this.triggerView,n),this.listenTo(this.triggerView,n,o)}),this)},getPosition:function(){var t=this.triggerView.$el;return e.extend({},{width:t[0].offsetWidth,height:t[0].offsetHeight},t.offset())},getBodyClassName:function(){var e="popover-";return this.options.id&&(e+=this.options.id+"-"),e+="active"},show:function(){e(".popover:visible").each((function(){var t=e(this).data("component");t&&t.hide()})),this.position(),this.setBackdrop(),!0===this.useBackdrop&&this.backdrop.show(),this.opened=!0,this.triggerView&&this.triggerView.$el.addClass("active"),this.uiEventTrigger("show",this),this.$el.attr("aria-hidden","false"),e("body").addClass(this.getBodyClassName())},position:function(){var e,t,n,o,i=this.getPosition(),r=this.$el;switch(t=this.placement,r.css({top:0,left:0}).addClass("active"),n=r[0].offsetWidth,o=r[0].offsetHeight,t){case"bottom":e={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":e={top:i.top-o,left:i.left+i.width/2-n/2};break;case"left":e={top:i.top+i.height/2-o/2,left:i.left-n};break;case"right":e={top:i.top+i.height/2-o/2,left:i.left+i.width}}this.applyPlacement(e,t)},applyPlacement:function(e,t){var n,o,i,r,s=this.$el,a=this.$el,l=a[0].offsetWidth,d=a[0].offsetHeight;s.removeClass(t),s.offset(e).addClass(t).addClass("active"),n=a[0].offsetWidth,o=a[0].offsetHeight,"top"===t&&o!==d&&(e.top=e.top+d-o,r=!0),"bottom"===t||"top"===t?(i=0,e.left<0&&(i=-2*e.left,e.left=0,s.removeClass(t),s.offset(e).addClass(t),n=a[0].offsetWidth,o=a[0].offsetHeight),this.positionArrow(i-l+n,n,"left")):this.positionArrow(o-d,o,"top"),r&&s.offset(e)},positionArrow:function(e,t,n){this.$(".arrow").css(n,e?50*(1-e/t)+"%":"")},hide:function(){this.opened=!1,this.$el.removeClass("active"),this.triggerView&&(this.triggerView.$el.removeClass("active"),this.triggerView.$el.attr("aria-hidden","true")),this.uiEventTrigger("hide",this),this.$el.attr("aria-hidden","true"),e("body").removeClass(this.getBodyClassName())},toggle:function(e,t){this.opened?this.hide():this.show()},setBackdrop:function(){if(!0===this.useBackdrop&&void 0===this.backdrop){var t=this;this.$backdrop=this.$el.closest(".ui-backdrop-element"),0===this.$backdrop.length&&(this.$backdrop=e("body")),this.backdrop=new o(this.$backdrop,this.backdropOptions),this.backdrop.$el.on("hidden.backdrop.patterns",(function(e){"backdrop.patterns"===e.namespace&&(e.stopPropagation(),!0===t.opened&&t.hide())})),this.on("popover:hide",(function(){this.backdrop.hide()}),this)}}})}.apply(t,o))||(e.exports=i)},42:function(e,t,n){var o,i;o=[n(0),n(1),n(38)],void 0===(i=function(e,t,n){"use strict";return n.extend({id:"",items:[],itemContainer:null,isOffsetParent:!0,idPrefix:"container-",render:function(){return this.options.id&&this.$el.attr("id",this.idPrefix+this.options.id),this.applyTemplate(),this.renderItems(),this.bindEvents(),this.isOffsetParent&&this.$el.addClass("ui-offset-parent"),this.trigger("render",this),this.afterRender(),this.$el.data("component",this),this},renderItems:function(){var n;if(null!==this.itemContainer){if(0===(n=e(this.itemContainer,this.$el)).length)throw"Item Container element not found."}else n=this.$el;t.each(this.items,(function(e){!0===e.appendInContainer?n.append(e.render().$el):e.render()}),this)},bindEvents:function(){var e=this;t.each(this.items,(function(t){t.on("all",(function(){var t,n=[].slice,o=arguments[0],i=""!==e.id?e.id+"."+o:o;if(arguments.length>1&&(t=arguments[1]),i!==o){var r=n.call(arguments,0);r[0]=i,e.trigger.apply(e,r)}void 0!==t&&!0===t.isUIView&&!0===t.propagateEvent(o)&&e.trigger.apply(e,arguments)}))}))},get:function(e){return t.findWhere(this.items,{id:e})},add:function(e){if(void 0!==e.id&&this.get(e.id))throw"Another item with the same `id` already exists.";this.items.push(e)}})}.apply(t,o))||(e.exports=i)},43:function(e,t,n){var o,i;o=[n(0),n(1),n(41),n(225)],void 0===(i=function(e,t,n,o){"use strict";return n.extend({className:"popover",title:t.template("nothing"),content:t.template("<div/>"),template:o,initialize:function(e){this.app=e.app,n.prototype.initialize.apply(this,[e])},afterRender:function(){var e=this;return e.$el.find(".popover-close").click((function(t){e.hide(!0)})),e},getBodyClassName:function(){var e="popover-";return this.options.id&&(e+=this.options.id+"-"),e+="active"},render:function(){return n.prototype.render.call(this),this},hide:function(t){(this.closeOnOutClick||1==t)&&(this.opened=!1,this.$el.removeClass("active"),this.triggerView&&(this.triggerView.$el.removeClass("active"),this.triggerView.$el.attr("aria-hidden","true")),this.uiEventTrigger("hide",this),this.$el.attr("aria-hidden","true"),e("body").removeClass(this.getBodyClassName()))},toggle:function(e,t){n.prototype.toggle.apply(this,[e,t]);if(this.opened){var o=this.$(".current-path");0!==o.length&&o.html(this.getPath())}},getPath:function(){return this.app.getFolderPath()}})}.apply(t,o))||(e.exports=i)},45:function(e,t){e.exports='<div class="arrow"></div>\n<div class="popover-title">\n</div>\n<div class="items popover-content">\n</div>\n\n'},52:function(e,t,n){var o,i;o=[n(1),n(42)],void 0===(i=function(e,t){"use strict";return t.extend({tagName:"div",className:"btn-group",idPrefix:"btngroup-",disable:function(){e.each(this.items,(function(e){e.disable()}))},enable:function(){e.each(this.items,(function(e){e.enable()}))}})}.apply(t,o))||(e.exports=i)},62:function(e,t,n){var o,i;o=[n(42)],void 0===(i=function(e){"use strict";return e.extend({tagName:"div",className:"navbar",idPrefix:"toolbar-"})}.apply(t,o))||(e.exports=i)},77:function(e,t,n){var o,i;n(55),n(94),n(96),n(97),n(99),n(56),n(100),n(101),n(56),n(102),n(103);o=[n(0),n(35),n(36),n(55)],void 0===(i=function(e,t,n){"use strict";return t.extend({name:"texteditor",trigger:".pat-texteditor",parser:"mockup",defaults:{theme:null,mode:"text",width:500,height:200,tabSize:4,softTabs:!0,wrapMode:!1,showGutter:!0,showPrintMargin:!1,readOnly:!1},init:function(){var t=this;if(window.ace){var o=window.ace;o.config.set("packaged",!0),o.config.set("basePath","++plone++static/components/ace-builds/src/");var i=n.setId(t.$el);t.$wrapper=e('<div class="editorWrapper" />').css({height:parseInt(t.options.height)+25,width:t.options.width,position:"relative"}),t.$el.parent().hasClass("editorWrapper")||t.$el.wrap(t.$wrapper),t.$el.css({width:t.options.width,height:t.options.height,position:"absolute"}),t.editor=o.edit(i),t.options.theme&&t.setTheme(t.options.theme),t.editor.getSession().setMode("ace/mode/"+t.options.mode),t.editor.getSession().setTabSize(parseInt(t.options.tabSize,10)),t.editor.getSession().setUseSoftTabs(n.bool(t.options.softTabs)),t.editor.getSession().setUseWrapMode(n.bool(t.options.wrapMode)),t.editor.renderer.setShowGutter(n.bool(t.options.showGutter)),t.editor.setShowPrintMargin(n.bool(t.options.showPrintMargin)),t.editor.setReadOnly(n.bool(t.options.readOnly))}else setTimeout((function(){t.init()}),200)},setSyntax:function(e){var t={js:"javascript",txt:"text",css:"css",html:"html",xml:"xml",less:"less",py:"python",pt:"xml",cfg:"ini"}[e.substr(e.lastIndexOf(".")+1)];if(void 0!==t)return this.editor.getSession().setMode("ace/mode/"+t),!0},setTheme:function(e){this.editor.setTheme("ace/theme/"+e)},setText:function(e){this.editor&&this.editor.setValue(e)}})}.apply(t,o))||(e.exports=i)}}]);