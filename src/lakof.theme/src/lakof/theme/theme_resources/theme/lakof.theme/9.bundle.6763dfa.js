(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{100:function(e,t){e.exports='<div class="row item form-inline">\n    <div class="col-md-1 action">\n        <button\n            type="button"\n            class="btn btn-danger btn-xs remove-item"\n            data-dz-remove=""\n            href="javascript:undefined;">\n            <span class="glyphicon glyphicon-remove"></span>\n        </button>\n    </div>\n    <div class="col-md-8 title">\n        <div class="dz-preview">\n          <div class="dz-details">\n            <div class="dz-filename"><span data-dz-name></span></div>\n          </div>\n          <div class="dz-error-message"><span data-dz-errormessage></span></div>\n        </div>\n        <div class="dz-progress">\n            <span class="dz-upload" data-dz-uploadprogress></span>\n        </div>\n    </div>\n    <div class="col-md-3 info">\n        <div class="dz-size" data-dz-size></div>\n        <img data-dz-thumbnail />\n    </div>\n</div>\n'},37:function(e,t,i){var n,o;n=[i(0),i(32)],void 0===(o=function(e,t){"use strict";return t.extend({name:"backdrop",trigger:".pat-backdrop",parser:"mockup",defaults:{zIndex:null,opacity:.8,className:"plone-backdrop",classActiveName:"plone-backdrop-active",closeOnEsc:!0,closeOnClick:!0},init:function(){var t=this;t.$backdrop=e("> ."+t.options.className,t.$el),0===t.$backdrop.size()&&(t.$backdrop=e("<div/>").hide().appendTo(t.$el).addClass(t.options.className),null!==t.options.zIndex&&t.$backdrop.css("z-index",t.options.zIndex)),!0===t.options.closeOnEsc&&e(document).on("keydown",(function(e,i){t.$el.is("."+t.options.classActiveName)&&27===e.keyCode&&t.hide()})),!0===t.options.closeOnClick&&t.$backdrop.on("click",(function(){t.$el.is("."+t.options.classActiveName)&&t.hide()}))},show:function(){this.$el.hasClass(this.options.classActiveName)||(this.emit("show"),this.$backdrop.css("opacity","0").show(),this.$el.addClass(this.options.classActiveName),this.$backdrop.animate({opacity:this.options.opacity},500),this.emit("shown"))},hide:function(){this.$el.hasClass(this.options.classActiveName)&&(this.emit("hide"),this.$backdrop.animate({opacity:"0"},500).hide(),this.$el.removeClass(this.options.classActiveName),this.emit("hidden"))}})}.apply(t,n))||(e.exports=o)},93:function(e,t,i){var n,o;n=[i(1),i(94),i(97),i(33)],void 0===(o=function(e,t,i,n){"use strict";return t.extend({className:"popover upload",title:e.template('<%- _t("Upload files") %>'),content:e.template('<input type="text" name="upload" style="display:none" /><div class="uploadify-me"></div>'),popover:void 0,initialize:function(e){this.app=e.app,t.prototype.initialize.apply(this,[e])},render:function(){var e=this;e.popover=t.prototype.render.call(this);var o={success:function(t,i){var o=i.UID;if(o)new n.QueryHelper({vocabularyUrl:e.app.options.vocabularyUrl,attributes:e.app.options.attributes}).search("UID","plone.app.querystring.operation.selection.is",o,(function(t){var i=e.app.$el.select2("data");i.push.apply(i,t.results),e.app.$el.select2("data",i,!0),e.app.emit("selected"),e.popover.hide()}),!1)},uploadMultiple:!0,allowPathSelection:!1,relativePath:"fileUpload"};return o.baseUrl=e.app.options.rootUrl,e.upload=new i(e.$(".uploadify-me").addClass("pat-upload"),o),this},toggle:function(e,i){t.prototype.toggle.apply(this,[e,i]);this.opened&&this.app.currentPath!==this.upload.currentPath&&this.upload.setPath(this.app.currentPath)}})}.apply(t,n))||(e.exports=o)},94:function(e,t,i){var n,o;n=[i(0),i(1),i(95),i(37),i(96)],void 0===(o=function(e,t,i,n,o){"use strict";return i.extend({tagName:"div",className:"popover",eventPrefix:"popover",template:o,content:null,title:null,triggerView:null,idPrefix:"popover-",triggerEvents:{"button:click":"toggle"},placement:"bottom",events:{},opened:!1,closeOnOutClick:!0,appendInContainer:!0,backdrop:void 0,$backdrop:null,useBackdrop:!0,backdropOptions:{zIndex:"1009",opacity:"0.4",className:"backdrop backdrop-popover",classActiveName:"backdrop-active",closeOnEsc:!1,closeOnClick:!0},initialize:function(e){i.prototype.initialize.apply(this,[e]),this.bindTriggerEvents(),this.on("render",(function(){this.$el.attr("role","tooltip").attr("aria-hidden","false"),this.renderTitle(),this.renderContent()}),this)},afterRender:function(){},getTemplateOptions:function(){return this.options},renderTitle:function(){var e=this.title;"function"==typeof e&&(e=e(this.getTemplateOptions())),this.$(".popover-title").empty().append(e)},renderContent:function(){this.$(".popover-content").empty().append(this.content(this.getTemplateOptions()))},bindTriggerEvents:function(){this.triggerView&&t.each(this.triggerEvents,(function(t,i){var n=this[t];n||e.error("Function not found."),this.stopListening(this.triggerView,i),this.listenTo(this.triggerView,i,n)}),this)},getPosition:function(){var t=this.triggerView.$el;return e.extend({},{width:t[0].offsetWidth,height:t[0].offsetHeight},t.offset())},getBodyClassName:function(){var e="popover-";return this.options.id&&(e+=this.options.id+"-"),e+="active"},show:function(){e(".popover:visible").each((function(){var t=e(this).data("component");t&&t.hide()})),this.position(),this.setBackdrop(),!0===this.useBackdrop&&this.backdrop.show(),this.opened=!0,this.triggerView&&this.triggerView.$el.addClass("active"),this.uiEventTrigger("show",this),this.$el.attr("aria-hidden","false"),e("body").addClass(this.getBodyClassName())},position:function(){var e,t,i,n,o=this.getPosition(),s=this.$el;switch(t=this.placement,s.css({top:0,left:0}).addClass("active"),i=s[0].offsetWidth,n=s[0].offsetHeight,t){case"bottom":e={top:o.top+o.height,left:o.left+o.width/2-i/2};break;case"top":e={top:o.top-n,left:o.left+o.width/2-i/2};break;case"left":e={top:o.top+o.height/2-n/2,left:o.left-i};break;case"right":e={top:o.top+o.height/2-n/2,left:o.left+o.width}}this.applyPlacement(e,t)},applyPlacement:function(e,t){var i,n,o,s,r=this.$el,l=this.$el,a=l[0].offsetWidth,p=l[0].offsetHeight;r.removeClass(t),r.offset(e).addClass(t).addClass("active"),i=l[0].offsetWidth,n=l[0].offsetHeight,"top"===t&&n!==p&&(e.top=e.top+p-n,s=!0),"bottom"===t||"top"===t?(o=0,e.left<0&&(o=-2*e.left,e.left=0,r.removeClass(t),r.offset(e).addClass(t),i=l[0].offsetWidth,n=l[0].offsetHeight),this.positionArrow(o-a+i,i,"left")):this.positionArrow(n-p,n,"top"),s&&r.offset(e)},positionArrow:function(e,t,i){this.$(".arrow").css(i,e?50*(1-e/t)+"%":"")},hide:function(){this.opened=!1,this.$el.removeClass("active"),this.triggerView&&(this.triggerView.$el.removeClass("active"),this.triggerView.$el.attr("aria-hidden","true")),this.uiEventTrigger("hide",this),this.$el.attr("aria-hidden","true"),e("body").removeClass(this.getBodyClassName())},toggle:function(e,t){this.opened?this.hide():this.show()},setBackdrop:function(){if(!0===this.useBackdrop&&void 0===this.backdrop){var t=this;this.$backdrop=this.$el.closest(".ui-backdrop-element"),0===this.$backdrop.length&&(this.$backdrop=e("body")),this.backdrop=new n(this.$backdrop,this.backdropOptions),this.backdrop.$el.on("hidden.backdrop.patterns",(function(e){"backdrop.patterns"===e.namespace&&(e.stopPropagation(),!0===t.opened&&t.hide())})),this.on("popover:hide",(function(){this.backdrop.hide()}),this)}}})}.apply(t,n))||(e.exports=o)},95:function(e,t,i){var n,o;n=[i(0),i(1),i(35)],void 0===(o=function(e,t,i){"use strict";return i.extend({id:"",items:[],itemContainer:null,isOffsetParent:!0,idPrefix:"container-",render:function(){return this.options.id&&this.$el.attr("id",this.idPrefix+this.options.id),this.applyTemplate(),this.renderItems(),this.bindEvents(),this.isOffsetParent&&this.$el.addClass("ui-offset-parent"),this.trigger("render",this),this.afterRender(),this.$el.data("component",this),this},renderItems:function(){var i;if(null!==this.itemContainer){if(0===(i=e(this.itemContainer,this.$el)).length)throw"Item Container element not found."}else i=this.$el;t.each(this.items,(function(e){!0===e.appendInContainer?i.append(e.render().$el):e.render()}),this)},bindEvents:function(){var e=this;t.each(this.items,(function(t){t.on("all",(function(){var t,i=[].slice,n=arguments[0],o=""!==e.id?e.id+"."+n:n;if(arguments.length>1&&(t=arguments[1]),o!==n){var s=i.call(arguments,0);s[0]=o,e.trigger.apply(e,s)}void 0!==t&&!0===t.isUIView&&!0===t.propagateEvent(n)&&e.trigger.apply(e,arguments)}))}))},get:function(e){return t.findWhere(this.items,{id:e})},add:function(e){if(void 0!==e.id&&this.get(e.id))throw"Another item with the same `id` already exists.";this.items.push(e)}})}.apply(t,n))||(e.exports=o)},96:function(e,t){e.exports='<div class="arrow"></div>\n<div class="popover-title">\n</div>\n<div class="items popover-content">\n</div>\n\n'},97:function(e,t,i){var n,o;n=[i(0),i(1),i(32),i(41),i(98),i(99),i(100),i(33),i(34)],void 0===(o=function(e,t,i,n,o,s,r,l,a){"use strict";return o.autoDiscover=!1,i.extend({name:"upload",trigger:".pat-upload",parser:"mockup",defaults:{showTitle:!0,url:null,className:"upload",wrap:!1,wrapperTemplate:'<div class="upload-wrapper"/>',fileaddedClassName:"dropping",useTus:!1,container:"",ajaxUpload:!0,paramName:"file",addRemoveLinks:!1,autoCleanResults:!0,previewsContainer:".previews",previewTemplate:null,maxFiles:null,maxFilesize:99999999,allowPathSelection:void 0,relatedItems:{attributes:["UID","Title","Description","getURL","portal_type","path","ModificationDate"],batchSize:20,basePath:"/",vocabularyUrl:null,width:500,maximumSelectionSize:1,selectableTypes:["Folder"]}},init:function(){var i=this,n=s;void 0===i.options.allowPathSelection&&(i.options.allowPathSelection=i.options.baseUrl&&i.options.relativePath),e(document).bind("paste",(function(e){var t=e.originalEvent.clipboardData.items;if(t)for(var n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){var o=t[n].getAsFile();i.dropzone.addFile(o)}})),i.currentPath=i.options.currentPath,i.currentFile=0,n=t.template(n)({_t:a,allowPathSelection:i.options.allowPathSelection}),i.$el.addClass(i.options.className),i.$el.append(n),i.$progress=e(".progress-bar-success",i.$el),i.options.showTitle||i.$el.find("h2.title").hide(),i.options.ajaxUpload||(e(".fallback",this.$el).remove(),this.$el.hasClass(".upload-container")?this.$el.addClass("no-ajax-upload"):this.$el.closest(".upload-container").addClass("no-ajax-upload")),i.options.wrap&&(i.$el.wrap(i.options.wrapperTemplate),i.$el=i.$el.parent()),i.options.allowPathSelection?(i.$pathInput=e('input[name="location"]',i.$el),i.relatedItems=i.setupRelatedItems(i.$pathInput)):(e('input[name="location"]',i.$el).parent().remove(),i.relatedItems=null),i.$dropzone=e(".upload-area",i.$el),e("div.browse-select button.browse",i.$el).click((function(e){e.preventDefault(),e.stopPropagation(),(!i.options.maxFiles||i.dropzone.files.length<i.options.maxFiles)&&i.dropzone.hiddenFileInput.click()}));var r=this.getDzoneOptions();try{i.dropzone=new o(i.$dropzone[0],r)}catch(e){throw window.DEBUG&&console.log(e),e}i.dropzone.on("maxfilesreached",(function(){i.showHideControls()})),i.dropzone.on("addedfile",(function(){i.showHideControls()})),i.dropzone.on("removedfile",(function(){i.showHideControls()})),i.dropzone.on("success",(function(t,n){var o;try{o=e.parseJSON(n)}catch(e){o=n}i.$el.trigger("uploadAllCompleted",{data:o,path_uid:i.$pathInput?i.$pathInput.val():null})})),i.options.autoCleanResults&&i.dropzone.on("complete",(function(t){t.status===o.SUCCESS&&setTimeout((function(){e(t.previewElement).fadeOut()}),3e3)})),i.dropzone.on("complete",(function(e){e.status===o.SUCCESS&&1===i.dropzone.files.length&&i.showHideControls()})),i.dropzone.on("error",(function(t,i,n){void 0!==n&&403!==n.status&&e(".dz-error-message span",t.previewElement).html(a("The file transfer failed"))})),i.dropzone.on("totaluploadprogress",(function(e){e=(100*(i.currentFile-1)+e)/(100*i.dropzone.files.length)*100,i.$progress.attr("aria-valuenow",e).css("width",e+"%")})),e(".upload-all",i.$el).click((function(e){e.preventDefault(),e.stopPropagation(),i.processUpload({finished:function(){i.$progress.attr("aria-valuenow",0).css("width","0%")}})})),i.options.clipboardfile&&i.dropzone.addFile(i.options.clipboardfile)},showHideControls:function(){var e=this;e._showHideTimeout&&clearTimeout(e._showHideTimeout),e._showHideTimeout=setTimeout((function(){e._showHideControls()}),50)},_showHideControls:function(){var t=e(".controls",this.$el),i=e(".browse-select",this.$el),n=e(".dz-hidden-input");if(this.options.maxFiles&&(this.dropzone.files.length<this.options.maxFiles?(i.show(),n.prop("disabled",!1)):(i.hide(),n.prop("disabled",!0))),this.dropzone.files.length>0){t.fadeIn("slow");var o=this.dropzone.files[0];e(".dz-error-message span",o.previewElement).html("")}else t.fadeOut("slow")},pathJoin:function(){var e=[];return t.each(arguments,(function(t){t&&("/"===t[0]&&(t=t.substring(1)),"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),e.push(t))})),e.join("/")},getUrl:function(){var e=this.options.url;if(!e)if(this.options.baseUrl&&this.options.relativePath)"/"!==(e=this.options.baseUrl)[e.length-1]&&(e+="/"),e+=this.pathJoin(this.currentPath,this.options.relativePath);else{var t=this.$el.parents("form");e=t.length>0?t.attr("action"):window.location.href}return e},getDzoneOptions:function(){this.options.clickable=!0;var t=e.extend({},this.options);if(t.url=this.getUrl(),t.headers={"X-CSRF-TOKEN":l.getAuthenticator()},t.uploadMultiple=!1,delete t.wrap,delete t.wrapperTemplate,delete t.resultTemplate,delete t.autoCleanResults,delete t.fileaddedClassName,delete t.useTus,this.options.previewsContainer){var i=this.$el.find(this.options.previewsContainer);i.length>0&&(t.previewsContainer=i[0])}return t.autoProcessQueue=!1,t.previewTemplate=r,t},processUpload:function(e){e||(e={});var t=this,i=!1,n=t.options.useTus,s=t.options.fileaddedClassName,r=e.finished;t.currentFile=0,function e(){i=!0,0===t.dropzone.files.length&&(i=!1);var l=t.dropzone.files[0];if(i&&l.status===o.ERROR&&(l.status=o.QUEUED,i=!1),!i)return t.$el.removeClass(s),void(void 0!==r&&"function"==typeof r&&r());-1!==[o.SUCCESS,o.CANCELED].indexOf(l.status)?(t.dropzone.removeFile(l),e()):l.status!==o.UPLOADING?(n&&window.tus?t.handleTusUpload(l):(t.currentFile+=1,t.dropzone.processFile(l)),setTimeout(e,100)):setTimeout(e,100)}()},handleTusUpload:function(t){var i=this;e(t.previewElement);t.status=o.UPLOADING,window.tus.upload(t,{endpoint:i.dropzone.options.url,headers:{FILENAME:t.name,"X-CSRF-TOKEN":l.getAuthenticator()},chunkSize:5242880}).fail((function(){window.DEBUG&&console.alert(a("Error uploading with TUS resumable uploads")),t.status=o.ERROR})).progress((function(e,t,n){var o=t/n*100;i.$progress.attr("aria-valuenow",o).css("width",o+"%"),i.$progress.html(a("uploading...")+"<br />"+i.formatBytes(t)+" / "+i.formatBytes(n))})).done((function(e,t){t.status=o.SUCCESS,i.dropzone.emit("success",t),i.dropzone.emit("complete",t)}))},formatBytes:function(e){var t=Math.round(e/1024);if(t<1024)return t+" KiB";var i=Math.round(t/1024);return i<1024?i+" MB":Math.round(i/1024)+" GB"},setPath:function(e){this.currentPath=e,this.options.url=null,this.options.url=this.dropzone.options.url=this.getUrl()},setupRelatedItems:function(t){var i=this,o=i.options.relatedItems;o.upload=!1,i.options.initialFolder&&t.attr("value",i.options.initialFolder);var s=new n(t,o);return s.$el.on("change",(function(){var t=e(this).select2("data"),n=null;t.length>0&&(n=t[0].path),i.setPath(n)})),s}})}.apply(t,n))||(e.exports=o)},98:function(e,t,i){var n,o,s;o=[i(0)],void 0===(s="function"==typeof(n=function(e){var t={exports:{}};return function(){var i,n,o,s,r,l,a,p,d=[].slice,u={}.hasOwnProperty;a=function(){},n=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,o;if(i=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[i])for(n=0,o=t.length;n<o;n++)t[n].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,o,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(n=o=0,s=i.length;o<s;n=++o)if(i[n]===t){i.splice(n,1);break}return this},e}(),(i=function(e){var t,i;function o(e,i){var n,s,r;if(this.element=e,this.version=o.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(o.instances.push(this),this.element.dropzone=this,n=null!=(r=o.optionsForElement(this.element))?r:{},this.options=t({},this.defaultOptions,n,null!=i?i:{}),this.options.forceFallback||!o.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=o.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=o.getElements(this.options.clickable,"clickable")),this.init()}return function(e,t){for(var i in t)u.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(o,e),o.prototype.Emitter=n,o.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],o.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return a},forceFallback:!1,fallback:function(){var e,t,i,n,s,r;for(this.element.className=this.element.className+" dz-browser-not-supported",n=0,s=(r=this.element.getElementsByTagName("div")).length;n<s;n++)e=r[n],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=o.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(i=t.getElementsByTagName("span")[0])&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,n,s,r,l,a,p,d,u,c,h,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=o.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),n=0,l=(d=e.previewElement.querySelectorAll("[data-dz-name]")).length;n<l;n++)d[n].textContent=this._renameFilename(e.name);for(s=0,a=(u=e.previewElement.querySelectorAll("[data-dz-size]")).length;s<a;s++)u[s].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=o.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),f=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===o.UPLOADING?o.confirm(f.options.dictCancelUploadConfirmation,(function(){return f.removeFile(e)})):f.options.dictRemoveFileConfirmation?o.confirm(f.options.dictRemoveFileConfirmation,(function(){return f.removeFile(e)})):f.removeFile(e)},h=[],r=0,p=(c=e.previewElement.querySelectorAll("[data-dz-remove]")).length;r<p;r++)i=c[r],h.push(i.addEventListener("click",t));return h}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,o,s;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),n=0,o=(s=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<o;n++)(i=s[n]).alt=e.name,i.src=t;return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){var i,n,o,s,r;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=[],n=0,o=(s=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<o;n++)i=s[n],r.push(i.textContent=t);return r}},errormultiple:a,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:a,uploadprogress:function(e,t,i){var n,o,s,r,l;if(e.previewElement){for(l=[],o=0,s=(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;o<s;o++)"PROGRESS"===(n=r[o]).nodeName?l.push(n.value=t):l.push(n.style.width=t+"%");return l}},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:a,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:a,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,addedfiles:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},t=function(){var e,t,i,n,o,s,r;for(n=arguments[0],s=0,r=(i=2<=arguments.length?d.call(arguments,1):[]).length;s<r;s++)for(e in t=i[s])o=t[e],n[e]=o;return n},o.prototype.getAcceptedFiles=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted&&o.push(e);return o},o.prototype.getRejectedFiles=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted||o.push(e);return o},o.prototype.getFilesWithStatus=function(e){var t,i,n,o,s;for(s=[],i=0,n=(o=this.files).length;i<n;i++)(t=o[i]).status===e&&s.push(t);return s},o.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(o.QUEUED)},o.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(o.UPLOADING)},o.prototype.getAddedFiles=function(){return this.getFilesWithStatus(o.ADDED)},o.prototype.getActiveFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).status!==o.UPLOADING&&e.status!==o.QUEUED||s.push(e);return s},o.prototype.init=function(){var e,t,i,n,s,r,l,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(o.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(a=this,(i=function(){return a.hiddenFileInput&&a.hiddenFileInput.parentNode.removeChild(a.hiddenFileInput),a.hiddenFileInput=document.createElement("input"),a.hiddenFileInput.setAttribute("type","file"),(null==a.options.maxFiles||a.options.maxFiles>1)&&a.hiddenFileInput.setAttribute("multiple","multiple"),a.hiddenFileInput.className="dz-hidden-input",null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles),null!=a.options.capture&&a.hiddenFileInput.setAttribute("capture",a.options.capture),a.hiddenFileInput.style.visibility="hidden",a.hiddenFileInput.style.position="absolute",a.hiddenFileInput.style.top="0",a.hiddenFileInput.style.left="0",a.hiddenFileInput.style.height="0",a.hiddenFileInput.style.width="0",document.querySelector(a.options.hiddenInputContainer).appendChild(a.hiddenFileInput),a.hiddenFileInput.addEventListener("change",(function(){var e,t,n,o;if((t=a.hiddenFileInput.files).length)for(n=0,o=t.length;n<o;n++)e=t[n],a.addFile(e);return a.emit("addedfiles",t),i()}))})()),this.URL=null!=(r=window.URL)?r:window.webkitURL,n=0,s=(l=this.events).length;n<s;n++)e=l[n],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(i){return t(i),e.emit("dragenter",i)}}(this),dragover:function(e){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(e){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(i),e.emit("dragover",i)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(i){return t(i),e.drop(i)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||o.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},o.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,o.instances.splice(o.instances.indexOf(this),1)},o.prototype.updateTotalUploadProgress=function(){var e,t,i,n,o,s,r;if(i=0,t=0,this.getActiveFiles().length){for(o=0,s=(r=this.getActiveFiles()).length;o<s;o++)i+=(e=r[o]).upload.bytesSent,t+=e.upload.total;n=100*i/t}else n=100;return this.emit("totaluploadprogress",n,t,i)},o.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},o.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},o.prototype.getFallbackForm=function(){var e,t,i,n;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=o.createElement(i),"FORM"!==this.element.tagName?(n=o.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:t)},o.prototype.getExistingFallback=function(){var e,t,i,n,o,s;for(t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},n=0,o=(s=["div","form"]).length;n<o;n++)if(i=s[n],e=t(this.element.getElementsByTagName(i)))return e},o.prototype.setupEventListeners=function(){var e,t,i,n,o,s,r;for(r=[],n=0,o=(s=this.listeners).length;n<o;n++)e=s[n],r.push(function(){var n,o;for(t in o=[],n=e.events)i=n[t],o.push(e.element.addEventListener(t,i,!1));return o}());return r},o.prototype.removeEventListeners=function(){var e,t,i,n,o,s,r;for(r=[],n=0,o=(s=this.listeners).length;n<o;n++)e=s[n],r.push(function(){var n,o;for(t in o=[],n=e.events)i=n[t],o.push(e.element.removeEventListener(t,i,!1));return o}());return r},o.prototype.disable=function(){var e,t,i,n,o;for(this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),o=[],t=0,i=(n=this.files).length;t<i;t++)e=n[t],o.push(this.cancelUpload(e));return o},o.prototype.enable=function(){return this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()},o.prototype.filesize=function(e){var t,i,n,o,s,r,l;if(i=0,n="b",e>0){for(t=r=0,l=(s=["TB","GB","MB","KB","b"]).length;r<l;t=++r)if(o=s[t],e>=Math.pow(this.options.filesizeBase,4-t)/10){i=e/Math.pow(this.options.filesizeBase,4-t),n=o;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+n},o.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},o.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&((i=e.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},o.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},o.prototype.handleFiles=function(e){var t,i,n,o;for(o=[],i=0,n=e.length;i<n;i++)t=e[i],o.push(this.addFile(t));return o},o.prototype._addFilesFromItems=function(e){var t,i,n,o,s;for(s=[],n=0,o=e.length;n<o;n++)null!=(i=e[n]).webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?s.push(this.addFile(i.getAsFile())):t.isDirectory?s.push(this._addFilesFromDirectory(t,t.name)):s.push(void 0):null==i.getAsFile||null!=i.kind&&"file"!==i.kind?s.push(void 0):s.push(this.addFile(i.getAsFile()));return s},o.prototype._addFilesFromDirectory=function(e,t){var i,n,o,s;return i=e.createReader(),n=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},s=this,(o=function(){return i.readEntries((function(e){var i,n,r;if(e.length>0){for(n=0,r=e.length;n<r;n++)(i=e[n]).isFile?i.file((function(e){if(!s.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,s.addFile(e)})):i.isDirectory&&s._addFilesFromDirectory(i,t+"/"+i.name);o()}return null}),n)})()},o.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):o.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},o.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=o.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(t=this,function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}));var t},o.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],this.enqueueFile(t);return null},o.prototype.enqueueFile=function(e){if(e.status!==o.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=o.QUEUED,this.options.autoProcessQueue)return setTimeout((t=this,function(){return t.processQueue()}),0);var t},o.prototype._thumbnailQueue=[],o.prototype._processingThumbnail=!1,o.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},o.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},o.prototype.removeFile=function(e){if(e.status===o.UPLOADING&&this.cancelUpload(e),this.files=p(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},o.prototype.removeAllFiles=function(e){var t,i,n,s;for(null==e&&(e=!1),i=0,n=(s=this.files.slice()).length;i<n;i++)((t=s[i]).status!==o.UPLOADING||e)&&this.removeFile(t);return null},o.prototype.createThumbnail=function(e,t){var i,n;return(i=new FileReader).onload=(n=this,function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}),i.readAsDataURL(e)},o.prototype.createThumbnailFromUrl=function(e,t,i,n){var o,s;return o=document.createElement("img"),n&&(o.crossOrigin=n),o.onload=(s=this,function(){var t,n,r,a,p,d,u,c;if(e.width=o.width,e.height=o.height,null==(r=s.options.resize.call(s,e)).trgWidth&&(r.trgWidth=r.optWidth),null==r.trgHeight&&(r.trgHeight=r.optHeight),n=(t=document.createElement("canvas")).getContext("2d"),t.width=r.trgWidth,t.height=r.trgHeight,l(n,o,null!=(p=r.srcX)?p:0,null!=(d=r.srcY)?d:0,r.srcWidth,r.srcHeight,null!=(u=r.trgX)?u:0,null!=(c=r.trgY)?c:0,r.trgWidth,r.trgHeight),a=t.toDataURL("image/png"),s.emit("thumbnail",e,a),null!=i)return i()}),null!=i&&(o.onerror=i),o.src=t},o.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,e=i=this.getUploadingFiles().length,!(i>=t)&&(n=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},o.prototype.processFile=function(e){return this.processFiles([e])},o.prototype.processFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).processing=!0,t.status=o.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},o.prototype._getFilesWithXhr=function(e){var t;return function(){var i,n,o,s;for(s=[],i=0,n=(o=this.files).length;i<n;i++)(t=o[i]).xhr===e&&s.push(t);return s}.call(this)},o.prototype.cancelUpload=function(e){var t,i,n,s,r,l,a;if(e.status===o.UPLOADING){for(n=0,r=(i=this._getFilesWithXhr(e.xhr)).length;n<r;n++)(t=i[n]).status=o.CANCELED;for(e.xhr.abort(),s=0,l=i.length;s<l;s++)t=i[s],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(a=e.status)!==o.ADDED&&a!==o.QUEUED||(e.status=o.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},i=function(){var e,t;return t=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},o.prototype.uploadFile=function(e){return this.uploadFiles([e])},o.prototype.uploadFiles=function(e){var n,s,r,l,a,p,d,u,c,h,f,m,v,g,w,y,b,F,E,C,k,z,x,T,L,U,A,S,$,D,N,I,_,P;for(F=new XMLHttpRequest,E=0,x=e.length;E<x;E++)(n=e[E]).xhr=F;for(l in m=i(this.options.method,e),y=i(this.options.url,e),F.open(m,y,!0),F.withCredentials=!!this.options.withCredentials,g=null,P=this,r=function(){var t,i,o;for(o=[],t=0,i=e.length;t<i;t++)n=e[t],o.push(P._errorProcessing(e,g||P.options.dictResponseError.replace("{{statusCode}}",F.status),F));return o},w=function(t){return function(i){var o,s,r,l,a,p,d,u,c;if(null!=i)for(s=100*i.loaded/i.total,r=0,p=e.length;r<p;r++)(n=e[r]).upload={progress:s,total:i.total,bytesSent:i.loaded};else{for(o=!0,s=100,l=0,d=e.length;l<d;l++)100===(n=e[l]).upload.progress&&n.upload.bytesSent===n.upload.total||(o=!1),n.upload.progress=s,n.upload.bytesSent=n.upload.total;if(o)return}for(c=[],a=0,u=e.length;a<u;a++)n=e[a],c.push(t.emit("uploadprogress",n,s,n.upload.bytesSent));return c}}(this),F.onload=function(t){return function(i){var n;if(e[0].status!==o.CANCELED&&4===F.readyState){if(g=F.responseText,F.getResponseHeader("content-type")&&~F.getResponseHeader("content-type").indexOf("application/json"))try{g=JSON.parse(g)}catch(e){i=e,g="Invalid JSON response from server."}return w(),200<=(n=F.status)&&n<300?t._finished(e,g,i):r()}}}(this),F.onerror=function(){if(e[0].status!==o.CANCELED)return r()},(null!=(S=F.upload)?S:F).onprogress=w,p={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&t(p,this.options.headers),p)(a=p[l])&&F.setRequestHeader(l,a);if(s=new FormData,this.options.params)for(f in $=this.options.params)b=$[f],s.append(f,b);for(C=0,T=e.length;C<T;C++)n=e[C],this.emit("sending",n,F,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,F,s),"FORM"===this.element.tagName)for(k=0,L=(D=this.element.querySelectorAll("input, textarea, select, button")).length;k<L;k++)if(c=(u=D[k]).getAttribute("name"),h=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(z=0,U=(N=u.options).length;z<U;z++)(v=N[z]).selected&&s.append(c,v.value);else(!h||"checkbox"!==(I=h.toLowerCase())&&"radio"!==I||u.checked)&&s.append(c,u.value);for(d=A=0,_=e.length-1;0<=_?A<=_:A>=_;d=0<=_?++A:--A)s.append(this._getParamName(d),e[d],this._renameFilename(e[d].name));return this.submitRequest(F,s,e)},o.prototype.submitRequest=function(e,t,i){return e.send(t)},o.prototype._finished=function(e,t,i){var n,s,r;for(s=0,r=e.length;s<r;s++)(n=e[s]).status=o.SUCCESS,this.emit("success",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},o.prototype._errorProcessing=function(e,t,i){var n,s,r;for(s=0,r=e.length;s<r;s++)(n=e[s]).status=o.ERROR,this.emit("error",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},o}(n)).version="4.3.0",i.options={},i.optionsForElement=function(e){return e.getAttribute("id")?i.options[o(e.getAttribute("id"))]:void 0},i.instances=[],i.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},i.autoDiscover=!0,i.discover=function(){var e,t,n,o,s,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],(e=function(e){var t,i,o,s;for(s=[],i=0,o=e.length;i<o;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?s.push(n.push(t)):s.push(void 0);return s})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],o=0,s=n.length;o<s;o++)t=n[o],!1!==i.optionsForElement(t)?r.push(new i(t)):r.push(void 0);return r},i.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],i.isBrowserSupported=function(){var e,t,n,o;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(t=0,n=(o=i.blacklistedBrowsers).length;t<n;t++)o[t].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},p=function(e,t){var i,n,o,s;for(s=[],n=0,o=e.length;n<o;n++)(i=e[n])!==t&&s.push(i);return s},o=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))},i.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},i.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},i.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},i.getElements=function(e,t){var i,n,o,s,r,l,a;if(e instanceof Array){n=[];try{for(o=0,r=e.length;o<r;o++)i=e[o],n.push(this.getElement(i,t))}catch(e){n=null}}else if("string"==typeof e)for(n=[],s=0,l=(a=document.querySelectorAll(e)).length;s<l;s++)i=a[s],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},i.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},i.isValidFile=function(e,t){var i,n,o,s,r;if(!t)return!0;for(t=t.split(","),i=(n=e.type).replace(/\/.*$/,""),s=0,r=t.length;s<r;s++)if("."===(o=(o=t[s]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(i===o.replace(/\/.*$/,""))return!0}else if(n===o)return!0;return!1},null!=e&&(e.fn.dropzone=function(e){return this.each((function(){return new i(this,e)}))}),null!=t?t.exports=i:window.Dropzone=i,i.ADDED="added",i.QUEUED="queued",i.ACCEPTED=i.QUEUED,i.UPLOADING="uploading",i.PROCESSING=i.UPLOADING,i.CANCELED="canceled",i.ERROR="error",i.SUCCESS="success",r=function(e){var t,i,n,o,s,r,l,a;for(e.naturalWidth,s=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=s,(i=t.getContext("2d")).drawImage(e,0,0),n=i.getImageData(0,0,1,s).data,a=0,o=s,r=s;r>a;)0===n[4*(r-1)+3]?o=r:a=r,r=o+a>>1;return 0==(l=r/s)?1:l},l=function(e,t,i,n,o,s,l,a,p,d){var u;return u=r(t),e.drawImage(t,i,n,o,s,l,a,p,d/u)},s=function(e,t){var i,n,o,s,r,l,a,p,d;if(o=!1,d=!0,n=e.document,p=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",a=n.addEventListener?"removeEventListener":"detachEvent",l=n.addEventListener?"":"on",s=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?e:n)[a](l+i.type,s,!1),!o&&(o=!0)?t.call(e,i.type||i):void 0},r=function(){try{p.doScroll("left")}catch(e){return void setTimeout(r,50)}return s("poll")},"complete"!==n.readyState){if(n.createEventObject&&p.doScroll){try{d=!e.frameElement}catch(e){}d&&r()}return n[i](l+"DOMContentLoaded",s,!1),n[i](l+"readystatechange",s,!1),e[i](l+"load",s,!1)}},i._autoDiscoverFunction=function(){if(i.autoDiscover)return i.discover()},s(window,i._autoDiscoverFunction)}.call(this),t.exports})?n.apply(t,o):n)||(e.exports=s)},99:function(e,t){e.exports='<div class="upload-container upload-multiple">\n    <h2 class="title"><%- _t("Upload here") %></h2>\n    <p class="help">\n        <%- _t(\'Drag and drop files from your computer onto the area below or click the Browse button.\') %>\n    </p>\n    <div class="upload-area">\n        <div class="fallback">\n            <input name="file" type="file" multiple />\n        </div>\n        <div class="dz-message"><p><%-_t("Drop files here...")%></p></div>\n        <div class="row browse-select">\n            <div class="col-md-9">\n                <input\n                    id="fakeUploadFile"\n                    placeholder="<%- _t("Choose File") %>"\n                    disabled\n                    />\n            </div>\n            <div class="col-md-3">\n                <button\n                    type="button"\n                    class="btn btn-primary browse">\n                    <%- _t("Browse") %>\n                </button>\n            </div>\n        </div>\n        <div class="upload-queue">\n            <div class="previews">\n            </div>\n            <div class="controls">\n                <% if (allowPathSelection) { %>\n                <div class="path">\n                    <label><%- _t("Upload to...") %></label>\n                    <p class="form-help">\n                        <%- _t("Select another destination folder or leave blank to add files to the current location.") %>\n                    </p>\n                    <input\n                        type="text"\n                        name="location"\n                        />\n                </div>\n                <% } %>\n                <div class="actions row">\n                    <div class="col-md-9">\n                        <div class="progress progress-striped active">\n                            <div class="progress-bar progress-bar-success"\n                                 role="progressbar"\n                                 aria-valuenow="0"\n                                 aria-valuemin="0"\n                                 aria-valuemax="100"\n                                 style="width: 0%">\n                                <span class="sr-only">40% Complete (success)</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="col-md-3 align-right">\n                        <button\n                            type="button"\n                            class="btn btn-primary upload-all">\n                            <%- _t("Upload") %>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}}]);